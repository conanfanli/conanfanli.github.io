(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"a",function(){return p}),n.d(t,"f",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"i",function(){return h}),n.d(t,"g",function(){return E});var r=n(24),a=n(25),o=n.n(a),i=n(246),c=n.n(i);function s(e){return e.dragonState.IconChoice}function l(e){return o.a.get(e,"dragonState.Category")}function u(e){return o.a.filter(l(e),{is_selectable:!0})}function p(e){return o.a.get(e,"dragonState.Activity")||[]}function d(e){return o.a.get(e,"dragonState.Suggestion")||[]}function m(e){return e.dragonState.current_user_balance}function f(e){return o.a.get(e,"dragonState.Transaction")||[]}function h(){var e=c.a.parse(r.b.location.search.split("?")[1]);return e&&e.urlState?JSON.parse(e.urlState):{}}function E(e){if(e.dragonState.current_user&&e.dragonState.network_accounts){var t=e.dragonState.current_user;return e.dragonState.network_accounts.map(function(e){var n=e.id==t.id;return{id:e.id,name:e.username,description:e.username+(n?" (Me)":"")}})}return[]}},174:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(7),a=n(271),o=n(179),i=n(0),c=n(15),s=n(13),l=n(18),u=n(24),p=n(34),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t.prototype.onUsernameChange=function(e){this.setState({username:e.target.value})},t.prototype.onPasswordChange=function(e){this.setState({password:e.target.value})},t.prototype.submitLogin=function(){this.props.actions.LoginApp({username:this.state.username,password:this.state.password},function(e){sessionStorage.setItem("jwt",e.operations[0].target_value),Object(u.c)(p.b.TransactionList)})},t.prototype.render=function(){var e=this;return i.createElement("div",{style:{height:window.innerHeight+"px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},i.createElement(o.a,{label:"Username",onChange:this.onUsernameChange.bind(this)}),i.createElement("br",null),i.createElement(o.a,{onChange:this.onPasswordChange.bind(this),type:"password",label:"Password",onKeyPress:function(t){13==t.charCode&&e.submitLogin()}}),i.createElement("br",null),i.createElement(a.a,{variant:"contained",color:"primary",onClick:function(){return e.submitLogin()}},"Login"))},t}(i.Component),m=Object(c.b)(function(e){return{authToken:e.dragonState.jwt_auth_token}},function(e){return{actions:Object(s.bindActionCreators)(l.a,e)}})(d)},175:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(7),a=n(552),o=n(269),i=n(18),c=n(16),s=n(257),l=n.n(s),u=n(258),p=n.n(u),d=n(0),m=n(121),f=n.n(m),h=n(15),E=n(13),g=n(50),y=n.n(g);l()(f.a.Highcharts),p()(f.a.Highcharts);var b=function(e){return{chart:{type:"column"},title:{text:"Income/Expense Report"},xAxis:{type:"category"},yAxis:{min:0,title:{text:"Spend",align:"high"},labels:{overflow:"justify"}},tooltip:{valueSuffix:" dollars"},plotOptions:{bar:{dataLabels:{enabled:!0}},column:{dataLabels:{enabled:!0},allowPointSelect:!1,events:{click:e.onClickColumn}}},legend:{enabled:!0,layout:"vertical",align:"right",verticalAlign:"top",x:-40,y:80,floating:!0,borderWidth:1,shadow:!0},credits:{enabled:!1}}},C=function(e){function t(t){var n=e.call(this,t)||this;n.onChangeReportType=function(e){n.draw(e.target.value)};var r=b({onClickColumn:n.onClickColumn.bind(n)});return n.state={config:r,chart:null,reportTitle:"",report_type:t.initialReportType},n}return r.b(t,e),t.prototype.onClickColumn=function(e){if("INCOME_EXPENSE"===this.state.report_type)return console.log(e)},t.prototype.getReportTitle=function(e){return"INCOME_EXPENSE"==e?"Income/Expense Report":"Expense Report"},t.prototype.draw=function(e){var t=this;this.props.actions.TransactionChart({report_type:e}).then(function(n){var r=y()({title:{text:t.getReportTitle(e)}},t.state.config),a=Object.assign({},r,n);t.setState({chart:d.createElement(f.a,{config:a})}),t.setState({report_type:e,config:a})})},t.prototype.componentWillMount=function(){this.draw(this.state.report_type)},t.prototype.render=function(){return this.state.config?d.createElement("div",null,d.createElement(a.a,{value:this.state.report_type,onChange:this.onChangeReportType},d.createElement(o.a,{value:"INCOME_EXPENSE"},"Income/Expense"),d.createElement(o.a,{value:"EXPENSE"},"Expense")),d.createElement("p",null,this.state.reportTitle),this.state.chart):d.createElement("p",null,"Loading ...")},t}(d.Component),v=Object(h.b)(function(e){return{initialReportType:Object(c.i)().report_type||"INCOME_EXPENSE"}},function(e){return{actions:Object(E.bindActionCreators)(i.a,e)}})(C)},178:function(e,t,n){"use strict";var r=n(7),a=n(596),o=n(271),i=n(0),c=n(15),s=n(13),l=n(16),u=n(269),p=n(270),d=n(593),m=n(548),f=n(551),h=n(78),E=n(595),g=n(547),y=n(594),b=n(43),C=n(18),v=function(e){var t=e.interactions;return i.createElement("div",null,i.createElement(b.b,null,t.map(function(t,n){return i.createElement(u.a,{disabled:!t.enabled,key:n,onClick:function(n){e.actions[t.endpoint_name](t.endpoint_args)}},t.label)})))},S=function(e){var t=e.activity,n=e.disabled,r=t.interactions.find(function(e){return"FILTER"===e.label.toUpperCase()}),a=t.interactions.filter(function(e){return"FILTER"!==e.label.toUpperCase()});return i.createElement(p.a,{dense:!0,disabled:n,button:!0,onClick:function(t){r&&e.actions[r.endpoint_name](r.endpoint_args)}},i.createElement(d.a,{style:{color:t.needs_attention?"red":"green"}},t.needs_attention?i.createElement(y.a,null):i.createElement(m.a,{className:"material-icons"},"check_circle_outline")),i.createElement(f.a,null,i.createElement(h.a,null,t.date+" "+t.label),t.subtitles.map(function(e,t){return i.createElement(h.a,{key:t,color:"textSecondary"},e)})),a.length?i.createElement(E.a,null,i.createElement(v,{interactions:a,actions:e.actions})):null)},A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",null,i.createElement(g.a,null,this.props.showActivityStream?this.props.events.map(function(t){return i.createElement(S,{actions:e.props.actions,activity:t,key:t.id,disabled:e.props.urlState.event_id===t.id})}):null))},t}(i.Component),_=Object(c.b)(function(e){return{events:Object(l.a)(e),showActivityStream:e.showActivityStream,urlState:Object(l.i)()}},function(e){return{actions:Object(s.bindActionCreators)(C.a,e)}})(A),T=n(179),w=(new Date).toISOString().slice(0,10),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={start_date:w,end_date:w},t.importTransactions=function(){t.props.actions.ImportTransactions({origin:t.props.origin,start_date:t.state.start_date,end_date:t.state.end_date})},t.setStartDate=function(e){t.setState({start_date:e.target.value})},t.setEndDate=function(e){t.setState({end_date:e.target.value})},t}return r.b(t,e),t.prototype.render=function(){return i.createElement(a.a,{container:!0},i.createElement(a.a,{item:!0,xs:4},i.createElement(T.a,{type:"date",label:"from",value:this.state.start_date,onChange:this.setStartDate})),i.createElement(a.a,{item:!0,xs:4},i.createElement(T.a,{type:"date",label:"to",defaultValue:w,onChange:this.setEndDate})),i.createElement(a.a,{item:!0,xs:4},i.createElement(o.a,{onClick:this.importTransactions,style:{marginTop:"10px"},color:"primary",variant:"contained"},"Import")))},t}(i.Component),O=Object(c.b)(function(e){return{}},function(e){return{actions:Object(s.bindActionCreators)(C.a,e)}})(j),x=n(552),k=n(618),I=n(597),L=n(598),N=n(599),F=n(34),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onFileInputChange=function(e){var n=e.target.files[0],r=new FileReader;r.addEventListener("load",function(){return t.props.submitFileContent(r.result)},!1),n&&r.readAsText(n)},t}return r.b(t,e),t.prototype.render=function(){var e=this,t=this.props.button||i.createElement(o.a,{variant:"outlined",component:"span"},"Upload");return i.createElement("div",null,i.createElement("input",{id:"file-upload-form",hidden:!0,ref:function(t){return e.fileInput=t},onChange:this.onFileInputChange,type:"file"}),i.createElement("label",{htmlFor:"file-upload-form"},t))},t}(i.Component),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedSource:F.a.CHEQUE},t.onSelectType=function(e){t.setState({selectedSource:e.target.value})},t.submitFileContent=function(e){if(console.log(e),t.state.selectedSource.length&&e)return t.props.actions.StatementUpload({source:t.state.selectedSource,content:e},function(e){window.location.reload()},function(e){return t.props.actions.addSnack(e.errors||"Cannot upload")})},t}return r.b(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{style:{paddingTop:"10px"}},i.createElement(k.a,{expanded:!0},i.createElement(I.a,null,i.createElement(a.a,{container:!0,spacing:10},i.createElement(a.a,{item:!0,xs:6,sm:4},i.createElement(x.a,{value:this.state.selectedSource,onChange:this.onSelectType},["CHEQUE","PC_MASTER","SCOTIA_MASTER","VISA"].map(function(e){return i.createElement(u.a,{key:e,value:e},e)}))),i.createElement(a.a,{item:!0,xs:6,sm:4},i.createElement(D,{submitFileContent:this.submitFileContent})))),i.createElement(L.a,null),i.createElement(N.a,null,i.createElement(o.a,{size:"small",onClick:function(){e.props.actions.hideNewCard()}},"Cancel"))))},t}(i.Component),M=Object(c.b)(function(e){return{}},function(e){return{actions:Object(s.bindActionCreators)(C.a,e)}})(P),R=n(46);function U(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())}var q={issued_date:{type:"date",required:!0},merchant:{type:"text",required:!0},notes:{type:"text",required:!1},category_id:{type:"number",required:!1},loan_amount:{type:"number",required:!1},total_amount:{type:"number",required:!0}},B=function(e){var t=e.fieldName,n=e.updateField,r=e.instance,a=q[t],o=!1;return a.required&&!r[t]?o=!0:a.required&&"number"===a.type&&!+r[t]&&(o=!0),i.createElement(T.a,{type:a.type,required:a.required,error:o,label:t,value:r[t],onChange:n(t)})};function W(){return{transaction:{issued_date:U(),merchant:"",notes:"",category_id:47,total_amount:"0",loan_amount:"0"}}}var G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=W(),t.createTransaction=function(){t.props.actions.TransactionCreate(t.state.transaction).then(function(e){return t.props.actions.hideNewCard()})},t.updateField=function(e){var n=t.state.transaction;return function(r){var a,o=Object.assign({},n,((a={})[e]=r.target.value,a));t.setState({transaction:o})}},t}return r.b(t,e),t.prototype.isValid=function(){var e=this.state.transaction;return[e.issued_date,e.merchant,+e.total_amount].every(Boolean)},t.prototype.render=function(){var e=this,t=this.props.selectableCategories,n=this.state.transaction;return i.createElement("div",{style:{paddingTop:"10px"}},i.createElement(k.a,{expanded:!0},i.createElement(I.a,null,i.createElement(a.a,{container:!0,spacing:10},i.createElement(a.a,{item:!0,xs:6,sm:4},i.createElement(B,{instance:n,fieldName:"issued_date",updateField:this.updateField})),i.createElement(a.a,{item:!0,xs:6,sm:4},i.createElement(B,{fieldName:"merchant",instance:n,updateField:this.updateField})),i.createElement(a.a,{item:!0,xs:6,sm:4},i.createElement(B,{fieldName:"total_amount",instance:n,updateField:this.updateField})),i.createElement(a.a,{item:!0,xs:6,sm:4},i.createElement(R.a,{instance:n,choices:t,instancePropNameToUpdate:"category_id",onChange:function(t,n){var r=Object.assign({},e.state.transaction,n);e.setState({transaction:r})}})),i.createElement(a.a,{item:!0,xs:6,sm:4},i.createElement(B,{fieldName:"notes",instance:n,updateField:this.updateField})),i.createElement(a.a,{item:!0,xs:6,sm:4},i.createElement(B,{fieldName:"loan_amount",instance:n,updateField:this.updateField})))),i.createElement(L.a,null),i.createElement(N.a,null,i.createElement(o.a,{size:"small",onClick:function(){e.setState(W()),e.props.actions.hideNewCard()}},"Cancel"),i.createElement(o.a,{size:"small",color:"primary",onClick:this.createTransaction,disabled:!this.isValid()},"Save"))))},t}(i.Component),H=Object(c.b)(function(e){return{selectableCategories:Object(l.e)(e),accounts:Object(l.g)(e),currentUser:e.dragonState.current_user,balance:Object(l.b)(e)}},function(e){return{actions:Object(s.bindActionCreators)(C.a,e)}})(G),V=n(602),z=n(603),X=n(619),J=n(247),K=n(604),Y=n(605),Q=n(606),$=n(607),Z=n(608),ee=n(609),te=n(600),ne=n(267),re=n(601),ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={anchorEl:null},t.onFocus=function(e){t.setState({anchorEl:e.currentTarget}),t.props.actions.SuggestionLoad({})},t.handleClose=function(e){t.setState({anchorEl:null})},t}return r.b(t,e),t.prototype.render=function(){var e=this,t=i.createElement(te.a,{position:"start"},i.createElement(re.a,null));return i.createElement("div",null,i.createElement(T.a,{onChange:function(t){return e.props.actions.ExecuteSearch({urlState:{full_text:t.target.value}})},InputProps:{startAdornment:i.createElement(te.a,{position:"start"},t)}}),i.createElement(ne.a,{open:!!this.state.anchorEl,anchorEl:this.state.anchorEl,onClose:this.handleClose,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"}},this.props.suggestions.map(function(t,n){return i.createElement(u.a,{key:n,onClick:function(){e.props.actions.ExecuteSearch({urlState:t.urlState})}},t.label)})))},t}(i.Component),oe=Object(c.b)(function(e,t){return{suggestions:e.dragonState.Suggestion}},function(e){return{actions:Object(s.bindActionCreators)(C.a,e)}})(ae),ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showNewTransactionForm=function(){t.props.showForm("transaction")},t.showNewStatementForm=function(){t.props.showForm("statement")},t.showPlaidImportForm=function(){t.props.showForm("plaid")},t.showWaveImportForm=function(){t.props.showForm("wave")},t.toggleActivityStream=function(){t.props.actions.toggleActivityStream()},t}return r.b(t,e),t.prototype.render=function(){return i.createElement(V.a,{position:"static",color:"default"},i.createElement(z.a,null,i.createElement(X.a,{title:"Activit Stream"},i.createElement(J.a,{onClick:this.toggleActivityStream},i.createElement(K.a,null))),this.props.balance?i.createElement(h.a,{variant:"body1",key:"balance"},"Balance: $"+this.props.balance):null,i.createElement("div",{style:{flex:1}}),i.createElement(oe,null),i.createElement(b.b,{icon:i.createElement(Y.a,null)},i.createElement(u.a,{key:"new-transaction-menu",onClick:this.showNewTransactionForm},i.createElement(d.a,null,i.createElement(Q.a,null)),i.createElement(f.a,null,"Transaction")),i.createElement(u.a,{key:"new-statement-menu",onClick:this.showNewStatementForm},i.createElement(d.a,null,i.createElement($.a,null)),i.createElement(f.a,null,"Statement")),i.createElement(u.a,{key:"new-wave-menu",onClick:this.showWaveImportForm},i.createElement(d.a,null,i.createElement(Z.a,{color:"primary"})),i.createElement(f.a,null,"Wave Import")),i.createElement(u.a,{key:"new-plaid-menu",onClick:this.showPlaidImportForm},i.createElement(d.a,null,i.createElement(ee.a,{color:"primary"})),i.createElement(f.a,null,"Plaid Import"))),i.createElement(J.a,{onClick:this.props.actions.logout},i.createElement(m.a,{className:"material-icons"},"exit_to_app"))))},t}(i.Component),ce=Object(c.b)(function(e,t){return{suggestions:Object(l.f)(e),balance:Object(l.b)(e)}},function(e){return{actions:Object(s.bindActionCreators)(C.a,e)}})(ie),se=n(612),le=n(613),ue=n(614),pe=n(261),de=n.n(pe),me=n(610),fe=n(611),he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.prediction,r=t.onAccept,o=n.split?"Split ":"";return i.createElement("div",{style:{color:"rgb(0, 188, 212)",fontWeight:"bold"}},""+o+n.category_name+"?",i.createElement(a.a,{container:!0},i.createElement(a.a,{item:!0,xs:12,sm:1},i.createElement(J.a,{onClick:function(){return r()}},i.createElement(me.a,{color:"primary"}))),i.createElement(a.a,{item:!0,xs:12,sm:1},i.createElement(J.a,{onClick:function(){return e.setState({declined:!0})}},i.createElement(fe.a,{color:"secondary"})))))},t}(i.Component),Ee=function(e){function t(t){var n=e.call(this,t)||this;return n.state={declined:!1},n}return r.b(t,e),t.prototype.onSelectCategory=function(e,t){return this.props.actions.TransactionUpdate({id:e.id,category_id:t.category_id})},t.prototype.render=function(){var e=this.props,t=e.selectableCategories,n=e.transaction;return i.createElement(R.a,{instance:n,choices:t,instancePropNameToUpdate:"category_id",onChange:this.onSelectCategory.bind(this)})},t}(i.Component),ge=n(25),ye=n.n(ge),be=function(e){var t=e.transaction,n=e.category,o=e.onAccept;return t.prediction?i.createElement(he,{prediction:t.prediction,onAccept:function(){return o(r.a({id:t.id},t.prediction))}}):i.createElement(a.a,{container:!0,spacing:10},i.createElement(a.a,{item:!0,xs:1},i.createElement(m.a,{className:"material-icons"},n?n.mui_icon_id:null)),i.createElement(a.a,{item:!0,xs:!0},n?i.createElement(h.a,{color:"textSecondary"},n.label):null))},Ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t.prototype.getCategory=function(){var e=this.props,t=e.transaction,n=e.selectableCategories;return t.category_id&&n.find(function(e){return e.value===t.category_id})||null},t.prototype.shouldComponentUpdate=function(e){return!(ye.a.isEqual(e.transaction,this.props.transaction)&&e.expanded===this.props.expanded)},t.prototype.render=function(){var e,t=this,n=this.props,o=n.transaction,c=n.selectableCategories,s=n.actions,l=n.expanded,u=n.onToggleExpansion,p=this.getCategory();return i.createElement("div",null,i.createElement(k.a,{disabled:!o.editable,expanded:l,onChange:u},i.createElement(I.a,null,i.createElement(a.a,{container:!0,spacing:10},i.createElement(a.a,{item:!0,xs:3,sm:4},i.createElement(h.a,null,(e=o.issued_date,new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",timeZone:"UTC"}))),l?null:i.createElement(be,{transaction:o,category:p,onAccept:this.props.actions.AcceptSmartCat.bind(this)})),i.createElement(a.a,{item:!0,xs:6,sm:4},o.origin_payload?i.createElement(X.a,{title:i.createElement(de.a,{shouldExpandNode:function(){return!0},data:o.origin_payload})},o.origin_payload.anchor_account_name?i.createElement(m.a,{style:{color:"blue",float:"left"},className:"material-icons"},"waves"):i.createElement(m.a,{style:{color:"blue",float:"left"},className:"material-icons"},"grid_on")):null,i.createElement(h.a,{variant:"body1"},o.merchant),i.createElement("div",null,i.createElement(h.a,{color:"textSecondary"},o.account_name),i.createElement(h.a,{color:"textSecondary"},o.plaid_category),i.createElement(h.a,{color:"textSecondary"},o.notes))),i.createElement(a.a,{item:!0,xs:3,sm:4,style:{paddingLeft:"40px"}},i.createElement(h.a,null,"$"+o.total_amount),+o.contribution&&!l?i.createElement(h.a,{style:{color:+o.contribution>0?"green":"red"}},"$"+o.contribution):null))),i.createElement(se.a,null,i.createElement(a.a,{container:!0,spacing:10},i.createElement(a.a,{item:!0,xs:6,sm:4},i.createElement(T.a,{onChange:function(e){return s.TransactionUpdate({id:o.id,notes:e.target.value})}})),i.createElement(a.a,{item:!0,xs:6,sm:4},i.createElement(Ee,r.a({},{transaction:o,selectableCategories:c,actions:s}))),i.createElement(a.a,{item:!0,xs:6,sm:3},i.createElement(T.a,{onChange:function(e){return s.TransactionUpdate({id:o.id,contribution:e.target.value})}})),i.createElement(a.a,{item:!0,xs:6,sm:1,style:{textAlign:"right"}},i.createElement(le.a,{size:"medium",color:"secondary","aria-label":"Delete",onClick:function(){return t.props.actions.TransactionDelete({id:o.id})}},i.createElement(ue.a,null)))))))},t}(i.Component),ve=Object(c.b)(function(e){return{selectableCategories:Object(l.e)(e),accounts:Object(l.g)(e),currentUser:e.dragonState.current_user,balance:Object(l.b)(e)}},function(e){return{actions:Object(s.bindActionCreators)(C.a,e)}})(Ce);n.d(t,"a",function(){return Ae});var Se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={expandedTransactionId:null,shownForm:null},t.showForm=function(e){t.setState({shownForm:e})},t}return r.b(t,e),t.prototype.componentDidMount=function(){this.props.selectableCategories.length||this.props.actions.CategoryList({}),this.props.actions.loadMoreTransactions(!0)},t.prototype.onToggleExpansion=function(e){e===this.state.expandedTransactionId?this.setState({expandedTransactionId:null}):this.setState({expandedTransactionId:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.selectableCategories,r=t.showActivityStream;return n&&n.length?i.createElement("div",{style:{maxWidth:"100%"}},i.createElement(ce,{showForm:this.showForm}),i.createElement("div",{style:{height:window.innerHeight-70,overflow:"scroll"}},i.createElement(a.a,{container:!0},r?i.createElement(a.a,{item:!0,sm:3},i.createElement(_,null)):null,i.createElement(a.a,{item:!0,sm:r?9:12},i.createElement("div",{style:{marginBottom:"20px"}},"transaction"===this.state.shownForm?i.createElement(H,null):null,"statement"===this.state.shownForm?i.createElement(M,null):null,"plaid"===this.state.shownForm?i.createElement(O,{origin:"plaid"}):null,"wave"===this.state.shownForm?i.createElement(O,{origin:"wave"}):null),this.props.transactions.map(function(t){return i.createElement(ve,{expanded:e.state.expandedTransactionId===t.id,key:t.id,transaction:t,onToggleExpansion:function(n,r){return e.onToggleExpansion(t.id)}})}),i.createElement(o.a,{fullWidth:!0,size:"large",color:"secondary",onClick:function(){return e.props.actions.loadMoreTransactions()}},"(",this.props.transactions.length,") Click to Load More ..."))))):null},t}(i.Component),Ae=Object(c.b)(function(e){return{transactions:Object(l.h)(e),selectableCategories:Object(l.e)(e),accounts:Object(l.g)(e),currentUser:e.dragonState.current_user,showActivityStream:e.showActivityStream}},function(e){return{actions:Object(s.bindActionCreators)(C.a,e)}})(Se)},18:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(7),a=n(57),o=n(16);function i(e){return{type:"ADD_SNACK",snack:e}}var c=r.a({},a.b,{loadMoreTransactions:function(e){return void 0===e&&(e=!1),function(t,n){var r=n(),i=Object(o.h)(r),c=Object(o.i)(),s=1;return i.length&&(s=Math.ceil(i.length/20)+1),t(Object(a.e)({reset:e,urlState:c,page:s}))}},hideNewCard:function(){return{type:"HIDE_NEW_CARD"}},eatSnack:function(){return{type:"EAT_SNACK"}},addSnack:i,login:function(e,t){return function(n,r){return n(Object(a.c)({username:e,password:t})).then(function(e){e.errors?n(i(e.errors)):r().dragonState.jwt_auth_token?(sessionStorage.setItem("jwt",r().dragonState.jwt_auth_token),window.location.reload()):n(i("No jwt found!"))})}},toggleTimeline:function(e){return{type:"TOGGLE_TIMELINE",enabled:e}},toggleActivityStream:function(){return function(e,t){var n=t(),r=!n.showActivityStream;if(e({type:"TOGGLE_ACTIVITY_STREAM",enabled:r}),r&&!n.dragonState.Activity.length)return e(Object(a.a)({}))}},logout:function(){return function(e,t){sessionStorage.removeItem("jwt"),window.location.reload()}}})},180:function(e,t,n){"use strict";var r=n(7),a=n(309),o=n(78),i=n(18),c=n(46),s=n(0),l=n(616),u=n(551),p=n(270),d=n(547),m=function(e){var t=e.ident,n=r.c(e,["ident"]);return t?s.createElement(u.a,r.a({},n,{style:{paddingLeft:56*t+"px"}})):s.createElement(u.a,r.a({},n))};var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t.prototype.render=function(){return s.createElement(d.a,null,this.props.root.children.map(function(e){return function e(t,n){return[s.createElement(p.a,{key:t.id},s.createElement(m,{ident:n},s.createElement(l.a,null),t.id))].concat(t.children.map(function(t){return e(t,n+1)}))}(e,0)}).flat(1e3))},t}(s.Component),h=n(16),E=n(15),g=n(13);n.d(t,"a",function(){return b});var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t.prototype.render=function(){var e=this;return s.createElement("div",null,s.createElement(f,{root:this.props.CategoryTree}),s.createElement("div",null,this.props.categories.map(function(t){return e.getCard(t)})))},t.prototype.onSelectIcon=function(e,t){return this.props.actions.CategoryUpdate({id:e.value,mui_icon_id:t.mui_icon_id})},t.prototype.getCard=function(e){var t=this.props.iconChoices.map(function(e){return{value:e.name,mui_icon_id:e.value,label:e.name}});return s.createElement(a.a,{key:e.value},s.createElement(o.a,{style:{display:"flex"}},e.label),s.createElement(c.a,{style:{flex:1},instance:e,choices:t,instancePropNameToUpdate:"mui_icon_id",onChange:this.onSelectIcon.bind(this)}))},t}(s.Component),b=Object(E.b)(function(e){return{categories:Object(h.c)(e),iconChoices:Object(h.d)(e),CategoryTree:e.dragonState.CategoryTree}},function(e){return{actions:Object(g.bindActionCreators)(i.a,e)}})(y)},24:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i});var r=n(40),a=Object(r.a)(),o=function(e,t,n){void 0===n&&(n=null);var r=t&&t&&Object.keys(t).length?"?urlState="+JSON.stringify(t):"";return a.push({pathname:e,search:r,state:n})},i=function(){var e=a.location.pathname;return e.endsWith("/")?e.slice(0,e.length-1)||"/":e}},245:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return T});var r=n(7),a=n(547),o=n(270),i=n(551),c=n(88),s=n(18),l=n(180),u=n(254),p=n(24),d=n(174),m=n(175),f=n(178),h=n(0),E=n(262),g=n(15),y=n(13),b=n(34),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t.prototype.componentDidMount=function(){sessionStorage.getItem("jwt")&&this.props.actions.InitApp({})},t.prototype.render=function(){return h.createElement(u.a,null,h.createElement("div",{style:{maxWidth:"100%",flex:8}},h.createElement(_,null)))},t}(h.Component),v=Object(g.b)(function(){return{}},function(e){return{actions:Object(y.bindActionCreators)(s.a,e)}})(C),S={TransactionList:f.a,TransactionChart:m.a,CategoryListPage:l.a,LoginPage:d.a},A=function(){return h.createElement(a.a,null,Object.keys(S).map(function(e,t){return h.createElement(o.a,{key:t,button:!0,onClick:function(){return Object(p.c)(e)}},h.createElement(i.a,{primary:e}))}))},_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t.prototype.render=function(){if(Object(p.a)()===b.b.Root)return h.createElement(A,null);if(Object(p.a)()===b.b.TransactionList)return h.createElement(f.a,null);if(Object(p.a)()===b.b.TransactionChart)return h.createElement(m.a,null);if(Object(p.a)()===b.b.CategoryListPage)return h.createElement(l.a,null);if(Object(p.a)()===b.b.LoginPage)return h.createElement(d.a,null);throw new Error("Invalid paths: "+Object(p.a)())},t}(h.Component),T=Object(E.hot)(e)(function(){return h.createElement(c.c,null,h.createElement(c.a,{path:"/",component:v}))})}).call(this,n(124)(e))},254:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(7),a=n(0),o=n.n(a),i=(n(196),n(6),n(554),n(46),function(e){var t=Object.assign({},{display:"flex",flexDirection:"row"},e.style),n=Object.assign({},e,{style:t});return o.a.createElement("div",r.a({},n))})},34:function(e,t,n){"use strict";n.d(t,"b",function(){return r});var r,a=n(57);n.d(t,"a",function(){return a.d}),function(e){e.Root="/",e.LoginPage="/LoginPage",e.TransactionList="/TransactionList",e.TransactionChart="/TransactionChart",e.CategoryListPage="/CategoryListPage",e.EntityMetaListPage="/EntityMetaListPage"}(r||(r={}))},46:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(7),a=n(271),o=n(548),i=n(553),c=n(549),s=n(550),l=n(25),u=n.n(l),p=n(0),d=n(43),m=function(e){function t(t){var n=e.call(this,t)||this;return n.getInitialOption=function(){var e=u.a.get(n.props.instance,n.props.instancePropNameToUpdate,null);if(!e)return null;var t=n.props.choices.find(function(t){return t.value===e});if(!t)throw new Error(e+" not found ");return t},n.openDialog=function(e){n.setState({openDialog:!0})},n.closeDialog=function(){n.setState({openDialog:!1})},n.onSelectOption=function(e){var t,r=n.props;(0,r.onChange)(r.instance,((t={})[r.instancePropNameToUpdate]=e.value,t)),n.closeDialog()},n.state={openDialog:!1},n}return r.b(t,e),t.prototype.render=function(){var e=this.props.choices,t=this.getInitialOption();return p.createElement("div",null,p.createElement(a.a,{onClick:this.openDialog,variant:"outlined",color:"primary"},t?p.createElement(o.a,{style:{marginRight:"5px"}},t.mui_icon_id):null,t?t.label:"Select A Category"),p.createElement(i.a,{open:this.state.openDialog,fullWidth:!0,onClose:this.closeDialog},p.createElement(c.a,null,"Select a category"),p.createElement(s.a,null,p.createElement(d.a,{onSelectOption:this.onSelectOption,defaultValue:t?t.value:void 0,placeholder:"Select a category",options:e}))))},t}(p.Component)},546:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(12),o=n(15),i=n(88),c=n(24),s=n(245),l=(n(541),n(13)),u=n(264),p=n.n(u),d=n(265),m=n(25),f=n(615),h=n(43),E=n(50),g=window.location.protocol+"//"+window.location.hostname+":"+(window.location.port?"8000":"")+"/api";function y(e,t){var n=t.target_value;if("OVERWRITE"===t.verb)return E.updateIn(t.entity_type,n,e);if("MERGE_APPEND"===t.verb){var r=Object(h.c)(e[t.entity_type],n,"append");return E.updateIn(t.entity_type,r,e)}if("MERGE_PREPEND"===t.verb){r=Object(h.c)(e[t.entity_type],n,"prepend");return E.updateIn(t.entity_type,r,e)}if("DELETE"===t.verb)return E.updateIn(t.entity_type,E.reject(function(e){return e.id===n.id}),e);throw{operation:t}}var b=Object(f.a)("DRACARYS/UPDATE_STATE",function(e,t){var n=Object.assign({},e),r=t.response.operations;return n=m.reduce(r,y,n)},{Statement:[],Category:[],Transaction:[],Suggestion:[],Activity:[],IconChoice:[],is_authenticated:!1,current_user:null,network_accounts:[],current_user_balance:null,jwt_auth_token:null,CategoryTree:null}),C=n(34),v=function(e){return function(t){return function(n){var r,a,o;return n&&n.isApiAction&&(r={endpoint:n.type,jsonBody:n.requestBody,authToken:sessionStorage.getItem("jwt")||""},a=g+"/"+r.endpoint+"/",o=r.authToken?r.authToken:sessionStorage.getItem("jwt"),fetch(a,{method:"POST",body:JSON.stringify(r.jsonBody),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:o?"JWT "+o:""}})).then(function(t){t.ok?t.json().then(function(t){n.success&&n.success(t),e.dispatch({type:"DRACARYS/UPDATE_STATE",response:t})}):401===t.status&&(sessionStorage.removeItem("jwt"),Object(c.c)(C.b.LoginPage))}),t(n)}}},S=!0,A=!1;function _(e,t){return function(n,r){return void 0===n&&(n=e),t.hasOwnProperty(r.type)?t[r.type](n,r):n}}var T,w,j=_([],{EAT_SNACK:function(e){return e.slice(1).slice()},ADD_SNACK:function(e,t){return e.concat([t.snack])}}),O=_(S,{TOGGLE_TIMELINE:function(e,t){return t.enabled}}),x=_(A,{TOGGLE_ACTIVITY_STREAM:function(e,t){return!e}}),k=Object(l.combineReducers)({showTimeline:O,showActivityStream:x,dragonState:b,snacks:j}),I=(w=Object(l.applyMiddleware)(d.a,v,p()()),Object(l.createStore)(k,T,w));a.render(r.createElement(o.a,{store:I},r.createElement(i.b,{history:c.b},r.createElement(s.a,null))),document.getElementById("root"))},57:function(e,t,n){"use strict";var r;function a(e,t,n){return{isApiAction:!0,type:"LoginApp",requestBody:e,success:t,reject:n}}function o(e,t,n){return{isApiAction:!0,type:"TransactionLoad",requestBody:e,success:t,reject:n}}function i(e,t,n){return{isApiAction:!0,type:"ActivityLoad",requestBody:e,success:t,reject:n}}n.d(t,"d",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),function(e){e.PC_MASTER="PC_MASTER",e.SCOTIA_MASTER="SCOTIA_MASTER",e.VISA="VISA",e.CHEQUE="CHEQUE"}(r||(r={}));var c={LoginApp:a,InitApp:function(e,t,n){return{isApiAction:!0,type:"InitApp",requestBody:e,success:t,reject:n}},TransactionLoad:o,TransactionCreate:function(e,t,n){return{isApiAction:!0,type:"TransactionCreate",requestBody:e,success:t,reject:n}},TransactionChart:function(e,t,n){return{isApiAction:!0,type:"TransactionChart",requestBody:e,success:t,reject:n}},TransactionUpdate:function(e,t,n){return{isApiAction:!0,type:"TransactionUpdate",requestBody:e,success:t,reject:n}},AcceptSmartCat:function(e,t,n){return{isApiAction:!0,type:"AcceptSmartCat",requestBody:e,success:t,reject:n}},TransactionDelete:function(e,t,n){return{isApiAction:!0,type:"TransactionDelete",requestBody:e,success:t,reject:n}},ExecuteSearch:function(e,t,n){return{isApiAction:!0,type:"ExecuteSearch",requestBody:e,success:t,reject:n}},ActivityLoad:i,StatementUpload:function(e,t,n){return{isApiAction:!0,type:"StatementUpload",requestBody:e,success:t,reject:n}},SuggestionLoad:function(e,t,n){return{isApiAction:!0,type:"SuggestionLoad",requestBody:e,success:t,reject:n}},CategoryUpdate:function(e,t,n){return{isApiAction:!0,type:"CategoryUpdate",requestBody:e,success:t,reject:n}},CategoryList:function(e,t,n){return{isApiAction:!0,type:"CategoryList",requestBody:e,success:t,reject:n}},CheckpointExport:function(e,t,n){return{isApiAction:!0,type:"CheckpointExport",requestBody:e,success:t,reject:n}},CheckpointSign:function(e,t,n){return{isApiAction:!0,type:"CheckpointSign",requestBody:e,success:t,reject:n}},CheckpointUnsign:function(e,t,n){return{isApiAction:!0,type:"CheckpointUnsign",requestBody:e,success:t,reject:n}},ListEntityMetas:function(e,t,n){return{isApiAction:!0,type:"ListEntityMetas",requestBody:e,success:t,reject:n}},SaveEntityMeta:function(e,t,n){return{isApiAction:!0,type:"SaveEntityMeta",requestBody:e,success:t,reject:n}},ImportTransactions:function(e,t,n){return{isApiAction:!0,type:"ImportTransactions",requestBody:e,success:t,reject:n}}}}},[[546,1,2]]]);