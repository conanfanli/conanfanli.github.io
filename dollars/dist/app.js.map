{"version":3,"sources":["webpack:///./queries/__generated__/UpdateTransaction.hooks.ts","webpack:///./Report/PnlChart.tsx","webpack:///./styles.tsx","webpack:///./TransactionList/ImportForm.tsx","webpack:///./components/DialogSelect.tsx","webpack:///./TransactionList/NewTransactionForm.tsx","webpack:///./TransactionList/FilterDialog.tsx","webpack:///./TransactionList/TransactionListAppBar.tsx","webpack:///./components/ResponsiveLabel.tsx","webpack:///./TransactionList/SmartCatField.tsx","webpack:///./TransactionList/CategoryField.tsx","webpack:///./components/DebouncedTextField.tsx","webpack:///./TransactionList/BalanceAdjustField.tsx","webpack:///./TransactionList/TransactionRow.tsx","webpack:///./types/__generated__/globalTypes.ts","webpack:///./Root/Timeline/utils.ts","webpack:///./Root/Timeline/EventRow.tsx","webpack:///./Root/Timeline/index.tsx","webpack:///./TransactionList/index.tsx","webpack:///./types/index.ts","webpack:///./components/IconSelect.tsx","webpack:///./CategoryPage/Tree.tsx","webpack:///./CategoryPage/selectors.tsx","webpack:///./CategoryPage/index.tsx","webpack:///./TablesPage/Table.tsx","webpack:///./TablesPage/index.tsx","webpack:///./history.ts","webpack:///./Root/index.tsx","webpack:///./queries/__generated__/GetCategories.hooks.ts","webpack:///./queries/GetCategories.graphql","webpack:///./LoginPage.tsx","webpack:///./queries/__generated__/GetRecords.hooks.ts","webpack:///./queries/GetRecords.graphql","webpack:///./queries/__generated__/GetTableNames.hooks.ts","webpack:///./queries/GetTableNames.graphql","webpack:///./queries/__generated__/GetProfitAndLossChart.hooks.ts","webpack:///./queries/GetProfitAndLossChart.graphql","webpack:///./selectors.ts","webpack:///./queries/__generated__/ImportWaveTransactions.hooks.ts","webpack:///./queries/ImportWaveTransactions.graphql","webpack:///./queries/__generated__/GetLatestImportDate.hooks.ts","webpack:///./queries/GetLatestImportDate.graphql","webpack:///./queries/GetTransactions.graphql","webpack:///./queries/__generated__/CreateTransaction.hooks.ts","webpack:///./queries/CreateTransaction.graphql","webpack:///./queries/__generated__/AcceptPrediction.hooks.ts","webpack:///./queries/AcceptPrediction.graphql","webpack:///./queries/__generated__/CategorizeTransaction.hooks.ts","webpack:///./queries/CategorizeTransaction.graphql","webpack:///./queries/UpdateTransaction.graphql","webpack:///./queries/__generated__/ArchiveTransaction.hooks.ts","webpack:///./queries/ArchiveTransaction.graphql","webpack:///./queries/__generated__/SignCheckpoint.hooks.ts","webpack:///./queries/SignCheckpoint.graphql","webpack:///./queries/__generated__/GetEvents.hooks.ts","webpack:///./queries/GetEvents.graphql","webpack:///./gqlClient.ts","webpack:///./reducers.ts","webpack:///./main.tsx","webpack:///./configureStore.tsx","webpack:///./Root/contexts.ts","webpack:///./queries/__generated__/GetTransactions.hooks.ts","webpack:///./utils.ts","webpack:///./queries/FragmentTransaction.graphql","webpack:///./theme.tsx"],"names":["QUERY","UpdateTransaction__QUERY","useApolloQuery","options","useMutation","HighchartsData","Highchart","Highcharts","HighchartsDrilldown","today","Date","sixMonthsAgo","setDate","getDate","PnlChart","props","variables","startDate","getIsoDateString","endDate","loading","error","data","initial","chart","type","title","text","xAxis","yAxis","min","align","labels","overflow","tooltip","valueSuffix","plotOptions","bar","dataLabels","enabled","column","allowPointSelect","events","click","onClickColumn","e","console","log","legend","layout","verticalAlign","x","y","floating","borderWidth","shadow","credits","titled","u","config","Object","assign","profitAndLossChart","isWide","window","innerWidth","useStyles","makeStyles","theme","createStyles","appBar","position","header","backgroundColor","palette","info","light","disabled","opacity","cursor","marginLeft","spacing","flex","formControl","margin","minWidth","toISOString","slice","ImportButton","onClose","importWaveTransactions","Button","fullWidth","onClick","then","res","location","reload","style","marginTop","color","variant","ImportForm","GetLatestImportDate","initialStartDate","latestImportDate","ImportFormComponent","React","setStartDate","setEndDate","Grid","container","item","xs","sm","TextField","label","value","onChange","target","defaultValue","DialogSelect","choices","onSelectOption","isOpen","setIsOpen","initialOption","option","find","Error","getInitialOption","size","Icon","marginRight","mui_icon_id","Dialog","open","DialogTitle","DialogContent","opt","undefined","placeholder","fieldConfig","issuedDate","required","merchantName","notes","categoryId","balanceAdjust","totalAmount","FieldInput","fieldName","updateField","instance","initialForm","getToday","NewTransactionForm","selectableCategories","formData","setFormData","update","cache","filters","offset","limit","createTransaction","isOk","cached","readQuery","query","GET_TRANSACTIONS_QUERY","writeQuery","transactions","transaction","message","t","old","event","newState","paddingTop","ExpansionPanel","expanded","ExpansionPanelSummary","map","cat","id","description","Divider","ExpansionPanelActions","input","every","Boolean","FilterDialog","categoryChoices","urlFilters","UrlStateContext","setOpen","eventId","setEventId","sharedOnly","setSharedOnly","uncategorizedOnly","setUncategorizedOnly","searchText","setSearchText","setCategoryId","handleClickOpen","handleClose","IconButton","aria-labelledby","DialogContentText","FormControl","InputLabel","Select","parseInt","MenuItem","choice","key","FormControlLabel","control","Checkbox","checked","name","DialogActions","pushHistory","UrlPathEnum","TransactionList","TransactionListAppBar","AppBar","Toolbar","Tooltip","toggleTimeline","History","balance","Typography","icon","Add","showForm","ListItemIcon","AttachMoney","ListItemText","Waves","sessionStorage","removeItem","href","className","ResponsiveLabel","ResponsiveLink","children","rest","Link","SmartCatField","prediction","transactionId","openCategoryDialog","acceptPrediction","split","categoryName","ButtonGroup","aria-label","CategoryField","showDialog","setShowDialog","category","editable","selected","CategoryDialogSelect","initialTextValue","c","classes","categorizeTransaction","textValue","setTextValue","length","filter","includes","toUpperCase","fullScreen","edge","Close","autoFocus","List","ListItem","button","ListItemSecondaryAction","DebouncedTextField","helperText","setter","onBounce","debounced","_","PrettoSlider","withStyles","root","height","thumb","width","border","boxShadow","active","valueLabel","left","track","borderRadius","rail","Slider","BalanceAdjustField","total","setBalanceAdjust","Number","toFixed","percentage","setPercentage","updateTransaction","gutterBottom","alignItems","newPercentage","newBalanceAdjust","toString","max","step","valueLabelDisplay","marks","valueLabelFormat","paddingBottom","newValue","EventType","TransactionRowComponent","showDate","onToggleExpansion","setNotes","MUTATION","archiveTransaction","ARCHIVE_TRANSACTION_MUTATION","removed","Card","CardHeader","formatDate","CardContent","accountName","plaidCategory","float","Collapse","in","unmountOnExit","parseFloat","textAlign","Fab","Delete","areEqual","last","next","TransactionRow","TransactionRows","setExpanded","index","categories","EventRow","urlState","eventType","CHECKPOINT","checkpoint","eventIcon","batch","isStatement","BATCH_IMPORT","plaid","wave","origin","getEventIcon","eventButtonIcon","getEventButtonIcon","createdTs","toLocaleDateString","signedTs","signedBalance","batch_import","getEventDescription","CheckpointListItem","SIGN_CHECKPOINT_MUTATION","signCheckpoint","success","main","getItem","BASE_URL","Timeline","LinearProgress","eventList","showTimeline","setShowTimeline","formType","setFormType","isTransactionLoading","fetchMore","Paper","maxWidth","amount","innerHeight","marginBottom","updateQuery","prev","fetchMoreResult","ICON_IDS","IconSelect","initialValue","iconId","node","background","paper","Tree","level","onSelectIcon","onSaveNode","component","paddingLeft","primary","ExpandLess","ExpandMore","timeout","disablePadding","child","NodeListItem","setEditable","pickingIcon","setPickingIcon","nodeName","setNodeName","setIconId","dense","role","onBlur","addNode","tree","visited","remaining","push","p","parent_id","parentNode","v","CategoryPage","pop","getCategoryTree","is_selectable","is_active","__typename","keys","k","Cell","content","TableCell","substring","Table","fields","recordType","TablesPage","fontSize","TableContainer","TableHead","TableRow","TableBody","records","r","nameValuePairs","pair","i","paths","getPathName","tables","pathMap","Root","LoginPage","history","createBrowserHistory","pathname","state","searchString","JSON","stringify","pathValue","prefix","join","search","stripped","isLocal","port","protocol","hostname","connect","ownProps","isAuthenticated","parseUrlState","Provider","Body","PageList","UrlPathsMap","isDarkMode","setItem","pageMap","pathName","this","warn","App","hot","module","client","path","GetCategories__QUERY","useQuery","doc","loc","source","definitionRefs","findOperation","definitions","element","forEach","def","refs","Set","collectFragmentReferences","kind","add","selectionSet","selections","selection","variableDefinitions","exports","operationName","newDoc","hasOwnProperty","opRefs","allRefs","newRefs","refName","prevRefs","has","childRef","op","oneQuery","username","setUsername","password","setPassword","errorMessage","setErrorMessage","submitLogin","fetch","method","body","headers","response","json","code","token","display","justifyContent","flexDirection","onKeyPress","charCode","GetRecords__QUERY","GetTableNames__QUERY","GetProfitAndLossChart__QUERY","params","querystring","parse","ImportWaveTransactions__QUERY","names","concat","GetLatestImportDate__QUERY","CreateTransaction__QUERY","AcceptPrediction__QUERY","CategorizeTransaction__QUERY","ArchiveTransaction__QUERY","SignCheckpoint__QUERY","GetEvents__QUERY","fragmentMatcher","IntrospectionFragmentMatcher","introspectionQueryResultData","__schema","types","errorLink","onError","graphQLErrors","networkError","gqlError","extensions","authLink","setContext","authorization","AC","link","HttpLink","uri","InMemoryCache","initialState","handlers","snacks","EAT_SNACK","ADD_SNACK","action","snack","reducers","combineReducers","store","middleware","applyMiddleware","thunk","logger","createStore","configureStore","ReactDOM","document","getElementById","GetTransactions__QUERY","d","month","day","timeZone","year","getFullYear","getMonth","createMuiTheme"],"mappings":"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","file":"app.js","sourcesContent":["/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { MutationHookOptions, useMutation } from '@apollo/react-hooks'\nimport {\n  UpdateTransaction,\n  UpdateTransactionVariables,\n} from '@src/queries/__generated__/UpdateTransaction'\nimport UpdateTransaction__QUERY from '@src/queries/UpdateTransaction.graphql'\n\nexport * from '@src/queries/__generated__/UpdateTransaction'\n\nexport const QUERY = UpdateTransaction__QUERY\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(\n  options: MutationHookOptions<UpdateTransaction, UpdateTransactionVariables>,\n) {\n  return useMutation<UpdateTransaction, UpdateTransactionVariables>(QUERY, options)\n}\n","import HighchartsData from 'highcharts-data'\nimport HighchartsDrilldown from 'highcharts-drilldown'\nimport * as React from 'react'\nimport Highchart from 'react-highcharts'\nimport u from 'updeep'\nimport { useApolloQuery } from '@src/queries/__generated__/GetProfitAndLossChart.hooks'\nimport { getIsoDateString } from '@src/utils'\n\nHighchartsData(Highchart.Highcharts)\nHighchartsDrilldown(Highchart.Highcharts)\n\nconst getChartConfig = ({ onClickColumn }) => {\n  return {\n    chart: {\n      type: 'column',\n      //height: 800,\n      //width: 800\n    },\n    title: {\n      text: 'Income/Expense Report',\n    },\n    xAxis: {\n      type: 'category',\n    },\n    yAxis: {\n      min: 0,\n      title: {\n        text: 'Spend',\n        align: 'high',\n      },\n      labels: {\n        overflow: 'justify',\n      },\n    },\n    tooltip: {\n      valueSuffix: ' dollars',\n    },\n    plotOptions: {\n      bar: {\n        dataLabels: {\n          enabled: true,\n        },\n      },\n      column: {\n        dataLabels: {\n          enabled: true,\n        },\n        allowPointSelect: false,\n        events: {\n          click: onClickColumn,\n        },\n      },\n    },\n    legend: {\n      enabled: true,\n      layout: 'vertical',\n      align: 'right',\n      verticalAlign: 'top',\n      x: -40,\n      y: 80,\n      floating: true,\n      borderWidth: 1,\n      shadow: true,\n    },\n    credits: {\n      enabled: false,\n    },\n  }\n}\nconst today = new Date()\nconst sixMonthsAgo = new Date()\nsixMonthsAgo.setDate(sixMonthsAgo.getDate() - 180)\n// Set to start of the month\nsixMonthsAgo.setDate(1)\n\nexport const PnlChart: React.FC<{}> = (props) => {\n  const { loading, error, data } = useApolloQuery({\n    variables: {\n      startDate: getIsoDateString(sixMonthsAgo),\n      endDate: getIsoDateString(today),\n    },\n  })\n  if (loading) {\n    return <div>loading ...</div>\n  }\n  if (error) return <div>error ...</div>\n\n  const initial = getChartConfig({\n    onClickColumn: (e) => console.log(e),\n  })\n  const titled = u(\n    {\n      title: {\n        text: 'Profit & Loss Report',\n      },\n    },\n    initial,\n  )\n  const config = Object.assign({}, titled, data!.profitAndLossChart)\n  return (\n    <div>\n      <Highchart config={config} />\n    </div>\n  )\n}\n","import { Theme, makeStyles, createStyles } from '@material-ui/core'\n\nexport const isWide = window.innerWidth > 600\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    appBar: {\n      position: 'relative',\n    },\n    header: {\n      backgroundColor: theme.palette.info.light,\n    },\n    disabled: {\n      opacity: '0.5',\n      backgroundColor: 'rgba(0, 0, 0, 0.12)',\n      cursor: 'not-allowed',\n    },\n    title: {\n      marginLeft: theme.spacing(2),\n      flex: 1,\n    },\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: '100%',\n    },\n  }),\n)\n","import { Button, Grid, TextField } from '@material-ui/core'\nimport * as React from 'react'\nimport { isWide } from '@src/styles'\nimport { useApolloQuery } from '@src/queries/__generated__/ImportWaveTransactions.hooks'\nimport { useApolloQuery as GetLatestImportDate } from '@src/queries/__generated__/GetLatestImportDate.hooks'\n\nconst today = new Date().toISOString().slice(0, 10)\n\nconst ImportButton: React.FC<{ onClose: () => void; startDate: string; endDate: string }> = ({\n  onClose,\n  startDate,\n  endDate,\n}) => {\n  const [importWaveTransactions, { loading }] = useApolloQuery({})\n\n  return (\n    <Button\n      fullWidth={!isWide}\n      onClick={() =>\n        importWaveTransactions({\n          variables: {\n            startDate,\n            endDate,\n          },\n        }).then((res) => {\n          onClose()\n          window.location.reload()\n        })\n      }\n      style={{ marginTop: '10px' }}\n      color=\"primary\"\n      variant=\"contained\"\n    >\n      {loading ? 'importing ...' : 'Import'}\n    </Button>\n  )\n}\n\nexport const ImportForm = (props: { onClose: () => void }) => {\n  const { data } = GetLatestImportDate({})\n  if (!data) return <div></div>\n\n  return <ImportFormComponent onClose={props.onClose} initialStartDate={data.latestImportDate} />\n}\n\nconst ImportFormComponent = (props: { onClose: () => void; initialStartDate: string }) => {\n  const [startDate, setStartDate] = React.useState(props.initialStartDate)\n  const [endDate, setEndDate] = React.useState(today)\n\n  return (\n    <Grid container>\n      <Grid item xs={12} sm={4}>\n        <TextField\n          fullWidth={!isWide}\n          type=\"date\"\n          label=\"from\"\n          value={startDate}\n          onChange={(e) => setStartDate(e.target.value)}\n        />\n      </Grid>\n      <Grid item xs={12} sm={4}>\n        <TextField\n          fullWidth={!isWide}\n          type=\"date\"\n          label=\"to\"\n          defaultValue={today}\n          onChange={(e) => setEndDate(e.target.value)}\n        />\n      </Grid>\n      <Grid item xs={12} sm={4}>\n        <ImportButton onClose={props.onClose} startDate={startDate} endDate={endDate} />\n      </Grid>\n    </Grid>\n  )\n}\n","import { Button, Dialog, DialogContent, DialogTitle, Icon } from '@material-ui/core'\n\nimport * as React from 'react'\n\nimport { Autocomplete } from 'rice-instructor'\n\ninterface DialogSelectProps {\n  choices: Array<{\n    value: string | number\n    mui_icon_id?: string\n    label: string\n  }>\n  onSelectOption: (option) => void\n  value: string | null | number\n}\nconst getInitialOption = (\n  value: string | number | null,\n  choices: Array<{\n    value: string | number\n    mui_icon_id?: string\n    label: string\n  }>,\n) => {\n  if (!value) return null\n  const option = choices.find((x) => x.value === value)\n  if (!option) {\n    throw new Error(`${value} not found `)\n  }\n\n  return option\n}\nconst isWide = window.innerWidth > 600\nexport const DialogSelect = (props: DialogSelectProps) => {\n  const { choices, value, onSelectOption } = props\n  const [isOpen, setIsOpen] = React.useState(false)\n  const initialOption = getInitialOption(value, choices)\n  return (\n    <div>\n      <Button\n        size={isWide ? 'large' : 'small'}\n        onClick={() => setIsOpen(true)}\n        variant=\"outlined\"\n        color=\"primary\"\n      >\n        {initialOption ? initialOption.label : 'Select a Category'}\n        {initialOption ? (\n          <Icon style={{ marginRight: '5px' }}>{initialOption.mui_icon_id}</Icon>\n        ) : null}\n      </Button>\n      <Dialog open={isOpen} fullWidth onClose={() => setIsOpen(false)}>\n        <DialogTitle>Select a Category</DialogTitle>\n        <DialogContent>\n          <Autocomplete\n            onSelectOption={(opt) => {\n              onSelectOption(opt)\n              setIsOpen(false)\n            }}\n            defaultValue={initialOption ? initialOption.value : undefined}\n            placeholder=\"Select a category\"\n            options={choices}\n          />\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n","import {\n  Button,\n  Divider,\n  ExpansionPanel,\n  ExpansionPanelActions,\n  ExpansionPanelSummary,\n  Grid,\n  TextField,\n} from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  QUERY as GET_TRANSACTIONS_QUERY,\n  GetTransactions,\n  GetTransactions_categories as ICategory,\n} from '@src/queries/__generated__/GetTransactions.hooks'\nimport { DialogSelect } from '@src/components/DialogSelect'\nimport { useApolloQuery } from '@src/queries/__generated__/CreateTransaction.hooks'\nimport { CreateTransactionInput } from '@src/types/__generated__/globalTypes'\n\nimport { getToday } from '@src/utils'\n\ninterface NewTransactionFormProps {\n  onClose: () => void\n  selectableCategories: Array<ICategory>\n}\n\ntype FieldName =\n  | 'issuedDate'\n  | 'merchantName'\n  | 'notes'\n  | 'categoryId'\n  | 'totalAmount'\n  | 'balanceAdjust'\n\nconst fieldConfig = {\n  issuedDate: { type: 'date', required: true },\n  merchantName: { type: 'text', required: true },\n  notes: { type: 'text', required: false },\n  categoryId: { type: 'number', required: false },\n  balanceAdjust: { type: 'number', required: false },\n  totalAmount: { type: 'number', required: true },\n}\n\nconst FieldInput = (props: {\n  fieldName: FieldName\n  updateField: (fieldName) => (event) => void\n  instance: CreateTransactionInput\n}) => {\n  const { fieldName, updateField, instance } = props\n  const config = fieldConfig[fieldName]\n  let error = false\n  if (config.required && !instance[fieldName]) {\n    error = true\n  } else if (config.required && config.type === 'number' && !instance[fieldName]) {\n    error = true\n  }\n\n  return (\n    <TextField\n      type={config.type}\n      required={config.required}\n      error={error}\n      label={fieldName}\n      value={instance[fieldName]}\n      onChange={updateField(fieldName)}\n    />\n  )\n}\nconst initialForm: CreateTransactionInput = {\n  issuedDate: getToday(),\n  merchantName: '',\n  notes: '',\n  categoryId: null,\n  totalAmount: '0',\n  balanceAdjust: '0',\n}\n\nexport const NewTransactionForm: React.FC<NewTransactionFormProps> = (props) => {\n  const { selectableCategories, onClose } = props\n  const [formData, setFormData] = React.useState<CreateTransactionInput>(initialForm)\n  const [createTransaction, { error, loading }] = useApolloQuery({\n    update(cache, { data }) {\n      const variables = {\n        // TODO: send real offset and limit\n        filters: { offset: 0, limit: 40 },\n      }\n      if (data?.createTransaction?.isOk) {\n        const cached = cache.readQuery<GetTransactions>({\n          query: GET_TRANSACTIONS_QUERY,\n          variables,\n        })\n        cache.writeQuery({\n          query: GET_TRANSACTIONS_QUERY,\n          data: Object.assign({}, cached, {\n            transactions: [data.createTransaction.transaction, ...cached!.transactions],\n          }),\n          variables,\n        })\n      }\n    },\n  })\n\n  if (error) {\n    return <div>{error.message}</div>\n  }\n\n  const createNewTransaction = () => {\n    createTransaction({\n      variables: {\n        input: {\n          issuedDate: formData.issuedDate,\n          totalAmount: formData.totalAmount,\n          merchantName: formData.merchantName,\n          balanceAdjust: formData.balanceAdjust || '0',\n          categoryId: formData.categoryId,\n          notes: formData.notes,\n        },\n      },\n    })\n    onClose()\n  }\n  const updateField = (fieldName: FieldName) => {\n    const old = formData\n    return (event) => {\n      const newState = Object.assign({}, old, {\n        [fieldName]: event.target.value,\n      })\n      setFormData(newState)\n    }\n  }\n  const isValid = () => {\n    const t = formData\n    return [t.issuedDate, t.merchantName, +t.totalAmount].every(Boolean)\n  }\n  const transaction = formData\n  return (\n    <div style={{ paddingTop: '10px' }}>\n      <ExpansionPanel expanded={true}>\n        <ExpansionPanelSummary>\n          <Grid container spacing={10}>\n            <Grid item xs={6} sm={4}>\n              <FieldInput instance={transaction} fieldName=\"issuedDate\" updateField={updateField} />\n            </Grid>\n            <Grid item xs={6} sm={4}>\n              <FieldInput\n                fieldName=\"merchantName\"\n                instance={transaction}\n                updateField={updateField}\n              />\n            </Grid>\n            <Grid item xs={6} sm={4}>\n              <FieldInput\n                fieldName=\"totalAmount\"\n                instance={transaction}\n                updateField={updateField}\n              />\n            </Grid>\n            <Grid item xs={6} sm={4}>\n              <DialogSelect\n                value={transaction.categoryId || ''}\n                onSelectOption={(option) => {\n                  const newState = Object.assign({}, formData, {\n                    categoryId: option.value,\n                  })\n                  setFormData(newState)\n                }}\n                choices={selectableCategories.map((cat) => {\n                  return {\n                    value: cat.id,\n                    label: cat.description,\n                    mui_icon_id: cat.mui_icon_id || '',\n                  }\n                })}\n              />\n            </Grid>\n            <Grid item xs={6} sm={4}>\n              <FieldInput fieldName=\"notes\" instance={transaction} updateField={updateField} />\n            </Grid>\n            <Grid item xs={6} sm={4}>\n              <FieldInput\n                fieldName=\"balanceAdjust\"\n                instance={transaction}\n                updateField={updateField}\n              />\n            </Grid>\n          </Grid>\n        </ExpansionPanelSummary>\n        <Divider />\n        <ExpansionPanelActions>\n          <Button\n            size=\"small\"\n            onClick={() => {\n              setFormData(initialForm)\n              onClose()\n            }}\n          >\n            Cancel\n          </Button>\n          <Button size=\"small\" color=\"primary\" onClick={createNewTransaction} disabled={!isValid()}>\n            {loading ? `saving ...` : `Save`}\n          </Button>\n        </ExpansionPanelActions>\n      </ExpansionPanel>\n    </div>\n  )\n}\n","import * as React from 'react'\nimport {\n  DialogContentText,\n  DialogTitle,\n  Icon,\n  InputLabel,\n  IconButton,\n  FormControl,\n  MenuItem,\n  Button,\n  Checkbox,\n  FormControlLabel,\n  TextField,\n  Select,\n  Dialog,\n  DialogActions,\n  DialogContent,\n} from '@material-ui/core'\nimport { UrlStateContext } from '@src/Root/contexts'\nimport { UrlPathEnum } from '@src/types'\nimport { pushHistory } from '@src/history'\n\ninterface Prop {\n  categoryChoices: Array<{ id: number; label: string }>\n}\n\nexport const FilterDialog: React.FC<Prop> = ({ categoryChoices }) => {\n  const urlFilters = React.useContext(UrlStateContext)\n  const [open, setOpen] = React.useState(false)\n  const [eventId, setEventId] = React.useState(urlFilters.eventId || '')\n  const [sharedOnly, setSharedOnly] = React.useState(urlFilters.sharedOnly || false)\n  const [uncategorizedOnly, setUncategorizedOnly] = React.useState(\n    urlFilters.uncategorizedOnly || false,\n  )\n  const [searchText, setSearchText] = React.useState<string>(urlFilters.searchText || '')\n  const [categoryId, setCategoryId] = React.useState<number | null>(urlFilters.categoryId || null)\n\n  const clearFilters = () => {\n    setEventId('')\n    setSharedOnly(false)\n    setUncategorizedOnly(false)\n    setSearchText('')\n    setCategoryId(null)\n  }\n  const resetFilters = () => {\n    console.log('reset filters')\n    setEventId(urlFilters.eventId || '')\n    setSharedOnly(urlFilters.sharedOnly || false)\n    setSearchText(urlFilters.searchText || '')\n    setCategoryId(urlFilters.categoryId || null)\n    setUncategorizedOnly(urlFilters.uncategorizedOnly || false)\n  }\n\n  const handleClickOpen = () => {\n    resetFilters()\n    setOpen(true)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  if (!open) {\n    return (\n      <IconButton onClick={handleClickOpen}>\n        <Icon color=\"primary\">filter_alt</Icon>\n      </IconButton>\n    )\n  }\n  return (\n    <div>\n      <IconButton onClick={handleClickOpen}>\n        <Icon color=\"primary\">filter_alt</Icon>\n      </IconButton>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Filter Transactions</DialogTitle>\n        {open ? (\n          <DialogContent>\n            <DialogContentText>\n              Search transactions by category, text (merchant name and notes). By checking \"Shared\",\n              you can limit the results to be shared transactions only.\n            </DialogContentText>\n            <FormControl style={{ minWidth: 120 }}>\n              <InputLabel>Category</InputLabel>\n              <Select\n                id=\"categoryId\"\n                value={categoryId || ''}\n                onChange={(e) => setCategoryId(parseInt(e.target.value as string))}\n              >\n                <MenuItem value={''}>None</MenuItem>\n                {categoryChoices.map((choice) => (\n                  <MenuItem key={choice.id} value={choice.id}>\n                    {choice.label}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <TextField\n              margin=\"dense\"\n              id=\"eventId\"\n              label=\"Event\"\n              type=\"string\"\n              fullWidth\n              value={eventId || ''}\n              onChange={(e) => setEventId(e.target.value)}\n            />\n            <TextField\n              onChange={(e) => setSearchText(e.target.value)}\n              value={searchText || ''}\n              margin=\"dense\"\n              id=\"searchText\"\n              label=\"Text Search\"\n              type=\"text\"\n              fullWidth\n            />\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={sharedOnly}\n                  onChange={(e) => setSharedOnly(e.target.checked)}\n                  name=\"sharedOnly\"\n                />\n              }\n              label=\"Shared\"\n            />\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={uncategorizedOnly}\n                  onChange={(e) => setUncategorizedOnly(e.target.checked)}\n                  name=\"uncategorizedOnly\"\n                />\n              }\n              label=\"Uncategorized\"\n            />\n          </DialogContent>\n        ) : null}\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={clearFilters} color=\"primary\">\n            Reset\n          </Button>\n          <Button\n            onClick={(e) => {\n              pushHistory(UrlPathEnum.TransactionList, {\n                eventId,\n                searchText,\n                sharedOnly,\n                categoryId,\n                uncategorizedOnly,\n              })\n              handleClose()\n            }}\n            color=\"primary\"\n          >\n            Apply\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n","import {\n  AppBar,\n  Icon,\n  IconButton,\n  ListItemIcon,\n  ListItemText,\n  MenuItem,\n  Toolbar,\n  Tooltip,\n  Typography,\n} from '@material-ui/core'\nimport { Add, AttachMoney, History, Waves } from '@material-ui/icons'\nimport * as React from 'react'\nimport { IconMenu } from 'rice-instructor'\nimport { FilterDialog } from '@src/TransactionList/FilterDialog'\n\ninterface Prop {\n  balance: string\n  showForm: (formType: string) => void\n  toggleTimeline: () => void\n  categoryChoices: Array<{ id: number; label: string }>\n}\n\nexport const TransactionListAppBar = (props: Prop) => {\n  const { categoryChoices } = props\n  const showNewTransactionForm = () => {\n    props.showForm('transaction')\n  }\n\n  const showWaveImportForm = () => {\n    props.showForm('wave')\n  }\n\n  const toggleTimeline = () => {\n    props.toggleTimeline()\n  }\n\n  return (\n    <AppBar position=\"static\" color=\"transparent\">\n      <Toolbar>\n        <Tooltip title=\"Timeline\">\n          <IconButton onClick={toggleTimeline}>\n            <History />\n          </IconButton>\n        </Tooltip>\n        {props.balance ? (\n          <Typography variant=\"body1\" key=\"balance\">{`Balance: $${props.balance}`}</Typography>\n        ) : null}\n        <div style={{ flex: 1 }} />\n        <FilterDialog categoryChoices={categoryChoices} />\n        <IconMenu icon={<Add />}>\n          <MenuItem key=\"new-transaction-menu\" onClick={showNewTransactionForm}>\n            <ListItemIcon>\n              <AttachMoney />\n            </ListItemIcon>\n            <ListItemText>Transaction</ListItemText>\n          </MenuItem>\n          <MenuItem key=\"new-wave-menu\" onClick={showWaveImportForm}>\n            <ListItemIcon>\n              <Waves color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText>Wave Import</ListItemText>\n          </MenuItem>\n        </IconMenu>\n        <IconButton\n          onClick={() => {\n            sessionStorage.removeItem('authToken')\n            window.location.href = '/'\n          }}\n        >\n          <Icon className=\"material-icons\">exit_to_app</Icon>\n        </IconButton>\n      </Toolbar>\n    </AppBar>\n  )\n}\n","import * as React from 'react'\nimport { Link, TypographyProps, Typography } from '@material-ui/core'\n\nconst isWide = window.innerWidth > 600\n\nexport const ResponsiveLabel = (props: TypographyProps) => {\n  return <Typography variant={isWide ? 'body1' : 'caption'} {...props} />\n}\ninterface ResponsiveLinkProps extends TypographyProps {\n  disabled?: boolean\n}\n\nexport const ResponsiveLink = (props: ResponsiveLinkProps) => {\n  const { onClick, children, disabled, ...rest } = props\n  return (\n    <ResponsiveLabel {...rest}>\n      {disabled === true ? (\n        children\n      ) : (\n        <Link color={rest.color} onClick={onClick}>\n          {children}\n        </Link>\n      )}\n    </ResponsiveLabel>\n  )\n}\n","import * as React from 'react'\n\nimport { ButtonGroup, Button, Typography } from '@material-ui/core'\nimport { useApolloQuery } from '@src/queries/__generated__/AcceptPrediction.hooks'\nimport { GetTransactions_transactions_prediction } from '@src/queries/__generated__/GetTransactions.hooks'\n\ninterface SmartCatProp {\n  prediction: GetTransactions_transactions_prediction\n  transactionId: number\n  openCategoryDialog: () => void\n}\nconst isWide = window.innerWidth > 600\nexport const SmartCatField: React.FC<SmartCatProp> = (props) => {\n  const { prediction, transactionId, openCategoryDialog } = props\n  const [acceptPrediction, { loading, error }] = useApolloQuery({\n    variables: { id: transactionId },\n  })\n  const split = prediction.split ? 'Split ' : ''\n  if (error) return <div>{error.message}</div>\n  if (loading) return <div>saving...</div>\n  return (\n    <div>\n      <Typography\n        variant={isWide ? 'body1' : 'caption'}\n      >{`${split}${prediction.categoryName}?`}</Typography>\n      <ButtonGroup aria-label=\"outlined primary button group\">\n        <Button size=\"small\" onClick={(e) => acceptPrediction()} variant=\"contained\">\n          YES\n        </Button>\n        <Button\n          size=\"small\"\n          onClick={(e) => openCategoryDialog()}\n          variant=\"contained\"\n          color=\"secondary\"\n        >\n          NO\n        </Button>\n      </ButtonGroup>\n    </div>\n  )\n}\n","import * as React from 'react'\nimport {\n  AppBar,\n  ListItemSecondaryAction,\n  Icon,\n  TextField,\n  ListItemText,\n  List,\n  ListItem,\n  Toolbar,\n  IconButton,\n  Typography,\n  Button,\n  Dialog,\n  DialogContent,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\n\nimport { useStyles } from '@src/styles'\nimport { ResponsiveLink } from '@src/components/ResponsiveLabel'\nimport { SmartCatField } from './SmartCatField'\nimport {\n  GetTransactions_categories as ICategory,\n  GetTransactions_transactions as IUserTransaction,\n} from '@src/queries/__generated__/GetTransactions.hooks'\n\nimport { useApolloQuery } from '@src/queries/__generated__/CategorizeTransaction.hooks'\n\ninterface CategoryFieldProp {\n  transaction: IUserTransaction\n  selectableCategories: Array<ICategory>\n}\n\nexport const CategoryField: React.FC<CategoryFieldProp> = ({\n  selectableCategories,\n  transaction,\n}) => {\n  const [showDialog, setShowDialog] = React.useState(false)\n\n  const category = selectableCategories.find((x) => x.id === transaction.categoryId)\n  const categoryName = category ? category.name : '????'\n\n  return (\n    <div>\n      {!transaction.categoryId && transaction.prediction ? (\n        <SmartCatField\n          openCategoryDialog={() => setShowDialog(true)}\n          prediction={transaction.prediction}\n          transactionId={transaction.id}\n        />\n      ) : (\n        <ResponsiveLink disabled={!transaction.editable} onClick={() => setShowDialog(true)}>\n          {categoryName}\n        </ResponsiveLink>\n      )}\n      {showDialog ? (\n        <CategoryDialogSelect\n          transactionId={transaction.id}\n          selectableCategories={selectableCategories}\n          selected={transaction.categoryId}\n          showDialog={showDialog}\n          setShowDialog={setShowDialog}\n        />\n      ) : null}\n    </div>\n  )\n}\n\ninterface CategoryDialogSelectProps {\n  setShowDialog: (boolean) => void\n  showDialog: boolean\n  selected: number | null\n  transactionId: number\n  selectableCategories: Array<ICategory>\n}\nconst CategoryDialogSelect: React.FC<CategoryDialogSelectProps> = ({\n  showDialog,\n  setShowDialog,\n  selected,\n  transactionId,\n  selectableCategories,\n}) => {\n  const initialTextValue = selectableCategories.find((c) => c.id === selected)?.name || ''\n  const classes = useStyles()\n  const [categorizeTransaction, { loading }] = useApolloQuery({})\n  const [textValue, setTextValue] = React.useState<string>(initialTextValue)\n\n  const choices =\n    !textValue.length || textValue === initialTextValue\n      ? selectableCategories\n      : selectableCategories.filter((c) => c.name.includes(textValue.toUpperCase()))\n  return (\n    <Dialog fullScreen={true} onClose={() => setShowDialog(false)} open={showDialog}>\n      <AppBar position=\"static\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            onClick={() => setShowDialog(false)}\n            aria-label=\"close\"\n          >\n            <Close />\n          </IconButton>\n          <Typography variant=\"h6\" className={classes.title}>\n            Select a Category\n          </Typography>\n          <Button autoFocus color=\"inherit\" onClick={() => setShowDialog(false)}>\n            Cancel\n          </Button>\n        </Toolbar>\n      </AppBar>\n      <DialogContent>\n        {loading ? (\n          <div>loading...</div>\n        ) : (\n          <TextField\n            value={textValue}\n            onChange={(e) => {\n              setTextValue(e.target.value)\n            }}\n            variant=\"outlined\"\n          />\n        )}\n        <List>\n          {choices.map((c) => (\n            <ListItem\n              key={c.id}\n              button\n              selected={c.id === selected}\n              onClick={(e) =>\n                categorizeTransaction({\n                  variables: {\n                    id: transactionId,\n                    categoryId: c.id,\n                  },\n                }).then(() => setShowDialog(false))\n              }\n            >\n              <ListItemText>{c.name}</ListItemText>\n              <ListItemSecondaryAction>\n                <Icon color=\"action\">{c.mui_icon_id}</Icon>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import * as React from 'react'\nimport * as _ from 'lodash'\nimport { TextField } from '@material-ui/core'\n\ninterface IDebouncedTextField {\n  helperText?: string\n  onBounce: (newValue) => void\n  setter: (newValue) => void\n  type?: string\n  value?: any\n  loading?: boolean\n  fullWidth?: boolean\n  label?: string\n}\n\nexport const DebouncedTextField: React.FunctionComponent<IDebouncedTextField> = ({\n  helperText,\n  setter,\n  onBounce,\n  label,\n  type,\n  value,\n  loading,\n  fullWidth,\n}) => {\n  const debounced = React.useCallback(_.debounce(onBounce, 1000), [])\n\n  return (\n    <TextField\n      variant=\"outlined\"\n      error={!!loading}\n      fullWidth={fullWidth}\n      label={label}\n      helperText={loading ? 'saving ...' : helperText}\n      type={type}\n      onChange={(event) => {\n        setter(event.target.value)\n        debounced(event.target.value)\n      }}\n      value={value}\n    />\n  )\n}\n","import * as React from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport Slider from '@material-ui/core/Slider'\nimport { useApolloQuery } from '@src/queries/__generated__/UpdateTransaction.hooks'\nimport { DebouncedTextField } from '@src/components/DebouncedTextField'\n\nconst PrettoSlider = withStyles({\n  root: {\n    color: '#3f51b5',\n    height: 8,\n  },\n  thumb: {\n    height: 24,\n    width: 24,\n    backgroundColor: '#fff',\n    border: '2px solid currentColor',\n    marginTop: -8,\n    marginLeft: -12,\n    '&:focus, &:hover, &$active': {\n      boxShadow: 'inherit',\n    },\n  },\n  active: {},\n  valueLabel: {\n    left: 'calc(-50% + 4px)',\n  },\n  track: {\n    height: 8,\n    borderRadius: 4,\n  },\n  rail: {\n    height: 8,\n    borderRadius: 4,\n  },\n})(Slider)\n\nconst getPercentage = (balance: number, total: number) => {\n  return Number(((balance / total) * 100).toFixed(2))\n}\n\nexport const BalanceAdjustField = (props: {\n  transactionId\n  total: number\n  balanceAdjust: number\n}) => {\n  const [balanceAdjust, setBalanceAdjust] = React.useState<number>(props.balanceAdjust)\n  const [percentage, setPercentage] = React.useState<number>(\n    getPercentage(balanceAdjust, props.total),\n  )\n  const [updateTransaction, { loading, error }] = useApolloQuery({})\n\n  const handleSliderChange = (event: any, newPercentage: number) => {\n    const newBalanceAdjust = (newPercentage * props.total) / 100\n    setPercentage(newPercentage)\n    setBalanceAdjust(newBalanceAdjust)\n    updateTransaction({\n      variables: {\n        input: {\n          id: props.transactionId,\n          balanceAdjust: newBalanceAdjust.toString(),\n        },\n      },\n    })\n  }\n  if (error) return <div>{error.message}</div>\n\n  return (\n    <div>\n      <Typography color=\"textSecondary\" id=\"input-slider\" gutterBottom>\n        Balance Adjust\n      </Typography>\n      <Grid container spacing={2} alignItems=\"center\">\n        <Grid item xs={9}>\n          <PrettoSlider\n            style={{ marginTop: '1.5rem' }}\n            value={typeof percentage === 'number' ? percentage : 0}\n            onChange={handleSliderChange}\n            aria-labelledby=\"input-slider\"\n            defaultValue={0}\n            min={-100}\n            max={100}\n            step={null}\n            valueLabelDisplay=\"on\"\n            marks={[\n              { value: -100, label: '-100%' },\n              { value: -50, label: '-50%' },\n              { value: 0, label: '0%' },\n              { value: 50, label: '50%' },\n              { value: 100, label: '100%' },\n            ]}\n            valueLabelFormat={(value: number) => `${value}%`}\n          />\n        </Grid>\n        <Grid item xs={3}>\n          <div style={{ paddingBottom: '2rem' }}>\n            <DebouncedTextField\n              type=\"number\"\n              loading={loading}\n              value={balanceAdjust}\n              setter={(newValue) => {\n                setBalanceAdjust(newValue)\n                setPercentage((Number(newValue) / props.total) * 100)\n              }}\n              onBounce={(newValue) => {\n                updateTransaction({\n                  variables: {\n                    input: { id: props.transactionId, balanceAdjust: newValue as string },\n                  },\n                })\n              }}\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n","import { Card, Collapse, CardHeader, CardContent, Fab, Grid, Typography } from '@material-ui/core'\nimport { Delete } from '@material-ui/icons'\nimport { useMutation } from '@apollo/react-hooks'\nimport * as _ from 'lodash'\nimport * as React from 'react'\nimport { CategoryField } from './CategoryField'\nimport { BalanceAdjustField } from './BalanceAdjustField'\nimport { useStyles } from '@src/styles'\nimport { ResponsiveLink, ResponsiveLabel } from '@src/components/ResponsiveLabel'\nimport {\n  QUERY as MUTATION,\n  UpdateTransaction,\n  UpdateTransactionVariables,\n} from '@src/queries/__generated__/UpdateTransaction.hooks'\nimport {\n  QUERY as GET_TRANSACTIONS_QUERY,\n  GetTransactions,\n  GetTransactions_categories,\n  GetTransactions_transactions as GetTransactions_transaction,\n} from '@src/queries/__generated__/GetTransactions.hooks'\nimport { DebouncedTextField } from '@src/components/DebouncedTextField'\nimport { formatDate } from '@src/utils'\n\nimport {\n  QUERY as ARCHIVE_TRANSACTION_MUTATION,\n  ArchiveTransaction,\n  ArchiveTransactionVariables,\n} from '@src/queries/__generated__/ArchiveTransaction.hooks'\n\ninterface ITransactionRowProps {\n  transaction: GetTransactions_transaction\n  expanded: boolean\n  selectableCategories: Array<GetTransactions_categories>\n  onToggleExpansion: (event) => void\n  showDate: boolean\n}\n\nexport const TransactionRowComponent = (props: ITransactionRowProps) => {\n  const classes = useStyles()\n\n  const { showDate, selectableCategories, transaction, expanded, onToggleExpansion } = props\n  const [notes, setNotes] = React.useState(transaction.notes)\n\n  const [updateTransaction, { loading }] = useMutation<\n    UpdateTransaction,\n    UpdateTransactionVariables\n  >(MUTATION)\n  const [archiveTransaction] = useMutation<ArchiveTransaction, ArchiveTransactionVariables>(\n    ARCHIVE_TRANSACTION_MUTATION,\n    {\n      update(cache, { data }) {\n        const variables = {\n          // TODO: send real offset and limit\n          filters: { offset: 0, limit: 40 },\n        }\n        if (data?.archiveTransaction?.isOk) {\n          const cached = cache.readQuery<GetTransactions>({\n            query: GET_TRANSACTIONS_QUERY,\n            variables,\n          })\n          const removed = [...cached!.transactions]\n          _.remove(removed, (t) => t.id === transaction.id)\n          cache.writeQuery({\n            query: GET_TRANSACTIONS_QUERY,\n            data: Object.assign({}, cached, { transactions: removed }),\n            variables,\n          })\n        }\n      },\n    },\n  )\n\n  return (\n    <div>\n      <Card style={showDate ? { marginTop: '1rem' } : undefined}>\n        {showDate ? (\n          <CardHeader className={classes.header} title={formatDate(transaction.issuedDate)} />\n        ) : null}\n        <CardContent className={!transaction.editable ? classes.disabled : undefined}>\n          <Grid container spacing={10}>\n            <Grid item xs={4} sm={4}>\n              <CategoryField\n                transaction={transaction}\n                selectableCategories={selectableCategories}\n              />\n            </Grid>\n            <Grid item xs={5} sm={4}>\n              <ResponsiveLink\n                color=\"textPrimary\"\n                disabled={!transaction.editable}\n                onClick={onToggleExpansion}\n              >\n                {transaction.merchantName}\n              </ResponsiveLink>\n              <div>\n                <ResponsiveLabel color=\"textSecondary\">{transaction.accountName}</ResponsiveLabel>\n                <ResponsiveLabel color=\"textSecondary\">{transaction.plaidCategory}</ResponsiveLabel>\n                <ResponsiveLabel color=\"textSecondary\">{transaction.notes}</ResponsiveLabel>\n              </div>\n            </Grid>\n            <Grid item xs={3} sm={4}>\n              <div style={{ float: 'right' }}>\n                <ResponsiveLabel>{`${transaction.totalAmount}`}</ResponsiveLabel>\n                <Typography\n                  variant=\"subtitle2\"\n                  style={{\n                    color: +transaction.balanceAdjust > 0 ? 'green' : 'red',\n                  }}\n                >\n                  {`${transaction.balanceAdjust}`}\n                </Typography>\n              </div>\n            </Grid>\n          </Grid>\n        </CardContent>\n        <Collapse style={{ margin: '1rem' }} in={expanded} unmountOnExit>\n          <Grid container spacing={1}>\n            <Grid item xs={12} sm={12}>\n              <BalanceAdjustField\n                transactionId={transaction.id}\n                balanceAdjust={Number(transaction.balanceAdjust)}\n                total={parseFloat(transaction.totalAmount)}\n              />\n            </Grid>\n            <Grid item xs={10} sm={11}>\n              <DebouncedTextField\n                fullWidth={true}\n                loading={loading}\n                label=\"Notes\"\n                value={notes}\n                setter={(newValue) => {\n                  setNotes(newValue)\n                }}\n                onBounce={(newValue) =>\n                  updateTransaction({\n                    variables: { input: { id: transaction.id, notes: newValue as string } },\n                  })\n                }\n              />\n            </Grid>\n            <Grid item xs={2} sm={1} style={{ textAlign: 'right' }}>\n              <Fab\n                size=\"medium\"\n                color=\"secondary\"\n                aria-label=\"Delete\"\n                onClick={() =>\n                  archiveTransaction({\n                    variables: {\n                      id: transaction.id,\n                    },\n                  })\n                }\n              >\n                <Delete />\n              </Fab>\n            </Grid>\n          </Grid>\n        </Collapse>\n      </Card>\n    </div>\n  )\n}\nconst areEqual = (last: ITransactionRowProps, next: ITransactionRowProps) => {\n  if (\n    _.isEqual(last.transaction, next.transaction) &&\n    last.expanded === next.expanded &&\n    last.selectableCategories.length === next.selectableCategories.length\n  ) {\n    return true\n  }\n  return false\n}\nconst TransactionRow = React.memo(TransactionRowComponent, areEqual)\n\n/*\n * This is a wrapper component that is used to control the expansion states of\n * the rows. We do not want a compolicated component to manage the expansion\n * state becaue the rerending will be too expensive.\n */\nexport const TransactionRows: React.FC<{\n  categories: Array<GetTransactions_categories>\n  transactions: Array<GetTransactions_transaction>\n}> = (props) => {\n  const [expanded, setExpanded] = React.useState<number | null>(null)\n  const handleChange = (eventId: number) => (event: React.ChangeEvent<{}>) => {\n    if (eventId === expanded) {\n      return setExpanded(null)\n    }\n    setExpanded(eventId)\n  }\n  return (\n    <>\n      {props.transactions.map((t, index) => {\n        let showDate = false\n        if (index > 0) {\n          const prev = props.transactions[index - 1]\n          showDate = prev.issuedDate !== t.issuedDate\n        } else {\n          // First transaction always show date\n          showDate = true\n        }\n        return (\n          <TransactionRow\n            showDate={showDate}\n            selectableCategories={props.categories}\n            expanded={expanded === t.id}\n            key={t.id}\n            transaction={t}\n            onToggleExpansion={handleChange(t.id)}\n          />\n        )\n      })}\n    </>\n  )\n}\n","/* tslint:disable */\n/* eslint-disable */\n// @generated\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum EventType {\n  BATCH_IMPORT = 'BATCH_IMPORT',\n  CHECKPOINT = 'CHECKPOINT',\n}\n\nexport interface CreateTransactionInput {\n  issuedDate: string\n  merchantName: string\n  totalAmount: string\n  balanceAdjust: string\n  notes: string\n  categoryId?: number | null\n}\n\nexport interface RecordsFilter {\n  recordType: string\n  offset: number\n  limit: number\n  orderBy?: string | null\n}\n\nexport interface TransactionFilters {\n  offset: number\n  limit: number\n  eventId?: string | null\n  categoryId?: number | null\n  sharedOnly?: boolean | null\n  uncategorizedOnly?: boolean | null\n  searchText?: string | null\n}\n\nexport interface UpdateTransactionInput {\n  id: number\n  balanceAdjust?: string | null\n  notes?: string | null\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","import { IImportBatch, ICheckPoint, IEvent } from './types'\nimport { EventType } from '@src/types/__generated__/globalTypes'\n\nexport const getEventDescription = (e: IEvent) => {\n  if (e.eventType === EventType.CHECKPOINT) {\n    const checkpoint = e as ICheckPoint\n    return checkpoint.signedTs\n      ? `balance: ${checkpoint.signedBalance}  Signed at ${new Date(\n          checkpoint.signedTs,\n        ).toLocaleDateString()}`\n      : 'Not Signed'\n  }\n  const batch: IImportBatch = e as IImportBatch\n  if (batch.isStatement) {\n    return `${batch.origin}: ${batch.startDate} TO ${batch.endDate}`\n  }\n  // Imported from wave or plaid\n  if (e.eventType === EventType.BATCH_IMPORT) {\n    const batch_import = e as IImportBatch\n    return `${batch_import.origin}: ${batch_import.startDate.slice(\n      0,\n      10,\n    )} TO ${batch_import.endDate.slice(0, 10)}`\n  }\n\n  throw new Error('not possible')\n}\nexport const getEventIcon = (event: IEvent) => {\n  if (event.eventType === EventType.CHECKPOINT) {\n    return 'toll'\n  }\n  const batch: IImportBatch = event as IImportBatch\n  if (batch.isStatement) {\n    return 'cloud_upload'\n  }\n  if (batch.eventType === EventType.BATCH_IMPORT) {\n    const batch_import = batch\n    return { plaid: 'grid_on', wave: 'waves' }[batch_import.origin]\n  }\n  throw new Error('not possible')\n}\n\nexport const getEventButtonIcon = (event: IEvent) => {\n  if (event.eventType === EventType.CHECKPOINT) {\n    return 'plus_one'\n  }\n  return null\n}\n","import * as React from 'react'\nimport { useMutation } from '@apollo/react-hooks'\nimport {\n  ListItemSecondaryAction,\n  ButtonGroup,\n  Button,\n  Tooltip,\n  Icon,\n  ListItemIcon,\n  ListItem,\n  ListItemText,\n  Typography,\n} from '@material-ui/core'\nimport { theme } from '@src/theme'\nimport { getEventButtonIcon, getEventIcon, getEventDescription } from './utils'\nimport { IEvent, ICheckPoint } from './types'\nimport {\n  QUERY as SIGN_CHECKPOINT_MUTATION,\n  SignCheckpoint,\n  SignCheckpointVariables,\n} from '@src/queries/__generated__/SignCheckpoint.hooks'\nimport { BASE_URL } from '@src/history'\nimport { UrlStateContext } from '@src/Root/contexts'\nimport { UrlPathEnum } from '@src/types'\nimport { EventType } from '@src/types/__generated__/globalTypes'\nimport { pushHistory } from '@src/history'\n\nexport const EventRow = (props: { event: IEvent }) => {\n  const urlState = React.useContext(UrlStateContext)\n\n  const { event } = props\n  const disabled = urlState.eventId === `${event.eventType}-${event.id}`\n  if (event.eventType === EventType.CHECKPOINT) {\n    return <CheckpointListItem disabled={disabled} checkpoint={event as ICheckPoint} />\n  }\n  const eventIcon = getEventIcon(event)\n  const onFilter = (e) => {\n    pushHistory(UrlPathEnum.TransactionList, {\n      eventId: `${event.eventType}-${event.id}`,\n    })\n  }\n  const eventButtonIcon = getEventButtonIcon(event)\n  return (\n    <ListItem selected={disabled} disabled={disabled} button onClick={onFilter}>\n      <ListItemIcon>\n        <Tooltip title={event.eventType || ''}>\n          <Icon>{eventIcon}</Icon>\n        </Tooltip>\n      </ListItemIcon>\n      <ListItemText>\n        <Typography>{`${new Date(event.createdTs).toLocaleDateString()}`}</Typography>\n        <Typography color=\"textSecondary\">{getEventDescription(event)}</Typography>\n      </ListItemText>\n      {eventButtonIcon ? (\n        <ListItemSecondaryAction>\n          <Button>\n            <Icon>{eventButtonIcon}</Icon>\n          </Button>\n        </ListItemSecondaryAction>\n      ) : null}\n    </ListItem>\n  )\n}\n\nexport const CheckpointListItem: React.FC<{\n  disabled: boolean\n  checkpoint: ICheckPoint\n}> = ({ checkpoint, disabled }) => {\n  const [signCheckpoint, { loading }] = useMutation<SignCheckpoint, SignCheckpointVariables>(\n    SIGN_CHECKPOINT_MUTATION,\n  )\n  const onFilter = (e) => {\n    pushHistory(UrlPathEnum.TransactionList, {\n      eventId: `${checkpoint.eventType}-${checkpoint.id}`,\n    })\n  }\n  const description = checkpoint.signedTs\n    ? `balance: ${checkpoint.signedBalance}  Signed at ${new Date(\n        checkpoint.signedTs,\n      ).toLocaleDateString()}`\n    : 'Not Signed'\n\n  if (loading) {\n    return <div>Signing ...</div>\n  }\n  return (\n    <ListItem selected={disabled} disabled={disabled} button onClick={onFilter}>\n      <ListItemIcon>\n        <Tooltip title={checkpoint.eventType || ''}>\n          {checkpoint.signedTs ? (\n            <Icon>toll</Icon>\n          ) : (\n            <Icon style={{ color: theme.palette.success.main }}>fiber_new</Icon>\n          )}\n        </Tooltip>\n      </ListItemIcon>\n      <ListItemText>\n        <Typography>{`${new Date(checkpoint.createdTs).toLocaleDateString()}`}</Typography>\n        <Typography color=\"textSecondary\">{description}</Typography>\n      </ListItemText>\n      <ListItemSecondaryAction>\n        <ButtonGroup\n          color=\"secondary\"\n          variant=\"contained\"\n          size=\"small\"\n          aria-label=\"Small outlined button group\"\n        >\n          {checkpoint.signedTs ? null : (\n            <Button\n              size=\"small\"\n              color=\"secondary\"\n              onClick={() =>\n                signCheckpoint({\n                  variables: {\n                    id: checkpoint.id,\n                  },\n                })\n              }\n            >\n              <Icon>plus_one</Icon>\n            </Button>\n          )}\n          <Button\n            size=\"small\"\n            color=\"secondary\"\n            disabled={!sessionStorage.getItem('authToken')}\n            onClick={() => {\n              window.open(\n                `${BASE_URL}/checkpoint/${checkpoint.id}?token=${sessionStorage.getItem(\n                  'authToken',\n                )}`,\n                '_blank',\n              )\n            }}\n          >\n            <Icon>cloud_download</Icon>\n          </Button>\n        </ButtonGroup>\n      </ListItemSecondaryAction>\n    </ListItem>\n  )\n}\n","import { LinearProgress, List } from '@material-ui/core'\nimport * as React from 'react'\nimport { EventRow } from './EventRow'\nimport { useApolloQuery } from '@src/queries/__generated__/GetEvents.hooks'\n\ninterface Prop {}\nexport const Timeline: React.FC<Prop> = (props) => {\n  const { loading, error, data } = useApolloQuery()\n  if (loading) return <LinearProgress />\n  if (error) return <p>Error :(</p>\n  if (!data) throw new Error('bad')\n  return (\n    <div>\n      <List>\n        {data.eventList.events.map((e, index) => {\n          return e ? <EventRow event={e} key={index} /> : null\n        })}\n      </List>\n    </div>\n  )\n}\n","import { Paper, LinearProgress, Button, Grid } from '@material-ui/core'\nimport * as React from 'react'\nimport { ImportForm } from './ImportForm'\n\nimport { NewTransactionForm } from './NewTransactionForm'\nimport { TransactionListAppBar } from './TransactionListAppBar'\nimport { TransactionRows } from './TransactionRow'\nimport { UrlStateContext } from '@src/Root/contexts'\nimport { useApolloQuery } from '@src/queries/__generated__/GetTransactions.hooks'\nimport { Timeline } from '@src/Root/Timeline'\n\ntype FormType = 'transaction' | 'wave'\n\nconst limit = 40\nconst isWide = window.innerWidth > 600\n\nexport const TransactionList = (props: {}) => {\n  console.log('rerender entire list page')\n  const urlFilters = React.useContext(UrlStateContext)\n  const [showTimeline, setShowTimeline] = React.useState(isWide)\n  const [formType, setFormType] = React.useState<FormType | null>(null)\n\n  const { loading: isTransactionLoading, error, data, fetchMore } = useApolloQuery({\n    variables: {\n      filters: {\n        offset: 0,\n        limit,\n        ...urlFilters,\n      },\n    },\n  })\n  if (error) {\n    return <div>{error.message}</div>\n  }\n\n  const transactions = data?.transactions || []\n  const categories = data?.categories || []\n  // TODO: implement selectable\n  const selectableCategories = categories.filter((c) => c)\n\n  const loadMoreTransactions = () => {\n    fetchMore({\n      variables: { filters: { offset: transactions.length || -1, limit, ...urlFilters } },\n      updateQuery: (prev, { fetchMoreResult }) => {\n        if (!fetchMoreResult) return prev\n        return Object.assign({}, prev, {\n          transactions: [...prev.transactions, ...fetchMoreResult.transactions],\n        })\n      },\n    })\n  }\n\n  const showForm = (formType: FormType) => {\n    setFormType(formType)\n  }\n  return (\n    <Paper variant=\"outlined\">\n      <div style={{ maxWidth: '100%' }}>\n        <TransactionListAppBar\n          toggleTimeline={() => setShowTimeline(!showTimeline)}\n          showForm={showForm}\n          balance={data?.balance.amount || '?'}\n          categoryChoices={selectableCategories.map((c) => {\n            return { id: c.id, label: c.description }\n          })}\n        />\n        <div\n          style={{\n            height: window.innerHeight - 70,\n            overflow: 'scroll',\n          }}\n        >\n          <Grid container>\n            {showTimeline ? (\n              <Grid item sm={3}>\n                <Timeline />\n              </Grid>\n            ) : null}\n            <Grid item sm={showTimeline ? 9 : 12}>\n              <div style={{ marginBottom: '20px' }}>\n                {formType === 'transaction' ? (\n                  <NewTransactionForm\n                    selectableCategories={selectableCategories || []}\n                    onClose={() => setFormType(null)}\n                  />\n                ) : null}\n                {formType === 'wave' ? <ImportForm onClose={() => setFormType(null)} /> : null}\n              </div>\n              {isTransactionLoading ? (\n                <LinearProgress />\n              ) : (\n                <TransactionRows categories={categories || []} transactions={transactions || []} />\n              )}\n              <Button fullWidth size=\"large\" color=\"secondary\" onClick={loadMoreTransactions}>\n                ({transactions.length}) Click to Load More ...\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </div>\n    </Paper>\n  )\n}\n","/*\nexport enum UrlPathEnum {\n  Root = '',\n  LoginPage = 'LoginPage',\n  TablesPage = 'TablesPage',\n  TransactionList = 'TransactionList',\n  CategoryPage = 'CategoryPage',\n  PnlChart = 'PnlChart',\n}\n*/\nexport enum UrlPathEnum {\n  Root,\n  LoginPage,\n  TablesPage,\n  TransactionList,\n  CategoryPage,\n  PnlChart,\n}\n","import { Typography, Icon, ListItemIcon, Select, MenuItem } from '@material-ui/core'\nimport * as React from 'react'\n\ninterface IIconSelect {\n  initialValue: string | null\n  onChange: (event, child) => void\n  /*\n  options: Array<{\n    value: number | string\n    label: string\n  }>\n   */\n}\nconst ICON_IDS = [\n  'attach_money',\n  'beach_access',\n  'cake',\n  'compare_arrows',\n  'free_breakfast',\n  'gavel',\n  'home',\n  'local_activity',\n  'local_bar',\n  'local_car_wash',\n  'local_gas_station',\n  'local_grocery_store',\n  'local_hospital',\n  'local_parking',\n  'local_taxi',\n  'motorcycle',\n  'movie',\n  'not_interested',\n  'perm_scan_wifi',\n  'phone_iphone',\n  'power',\n  'help',\n  'restaurant',\n  'rowing',\n  'school',\n  'settings_input_component',\n  'settings_input_hdmi',\n  'shopping_basket',\n  'subway',\n  'theaters',\n  'pets',\n]\nexport const IconSelect: React.FC<IIconSelect> = ({ initialValue, onChange }) => {\n  return (\n    <Select onChange={onChange} value={initialValue}>\n      {ICON_IDS.map((iconId) => (\n        <MenuItem key={iconId} value={iconId}>\n          <ListItemIcon>\n            <Icon color=\"primary\">{iconId}</Icon>\n          </ListItemIcon>\n          <Typography style={{ float: 'right' }}>{iconId}</Typography>\n        </MenuItem>\n      ))}\n    </Select>\n  )\n}\n","import * as React from 'react'\n\nimport {\n  makeStyles,\n  TextField,\n  ListItemSecondaryAction,\n  IconButton,\n  Theme,\n  createStyles,\n  Icon,\n  ListItemIcon,\n  Collapse,\n  List,\n  ListItem,\n  ListItemText,\n} from '@material-ui/core'\nimport { ExpandMore, ExpandLess } from '@material-ui/icons'\nimport { Node } from './selectors'\nimport { IconSelect } from '@src/components/IconSelect'\n\ninterface ITreeProps {\n  node: Node\n  onSaveNode: (number, string) => void\n  onSelectIcon: (id: number, iconId: string) => void\n  level?: number\n}\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    node: {\n      width: '100%',\n      maxWidth: 360,\n      backgroundColor: theme.palette.background.paper,\n    },\n  }),\n)\n\nexport const Tree: React.FC<ITreeProps> = (props) => {\n  const { node, level = 0, onSelectIcon, onSaveNode } = props\n  const classes = useStyles()\n\n  const [open, setOpen] = React.useState(true)\n\n  const handleClick = () => {\n    setOpen(!open)\n  }\n  return (\n    <List component=\"nav\" className={classes.node}>\n      <ListItem button onClick={handleClick} style={{ paddingLeft: `${32 * level}px` }}>\n        <ListItemIcon>\n          <Icon color=\"secondary\">{node.mui_icon_id}</Icon>\n        </ListItemIcon>\n        <ListItemText primary={node.name}></ListItemText>\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <List component=\"div\" disablePadding>\n          {node.children.map((child) =>\n            child.children.length ? (\n              <Tree\n                onSelectIcon={onSelectIcon}\n                onSaveNode={onSaveNode}\n                key={child.id}\n                node={child}\n                level={level + 1}\n              />\n            ) : (\n              <NodeListItem\n                onSelectIcon={onSelectIcon}\n                onSaveNode={onSaveNode}\n                key={child.id}\n                node={child}\n                level={level + 1}\n              />\n            ),\n          )}\n        </List>\n      </Collapse>\n    </List>\n  )\n}\n\nconst NodeListItem: React.FC<{\n  node: Node\n  level: number\n  onSaveNode: (number, string) => void\n  onSelectIcon: (id: number, iconId: string) => void\n}> = ({ node, level, onSaveNode, onSelectIcon }) => {\n  const [editable, setEditable] = React.useState(false)\n  const [pickingIcon, setPickingIcon] = React.useState(false)\n  const [nodeName, setNodeName] = React.useState(node.name)\n  const [iconId, setIconId] = React.useState(node.mui_icon_id)\n  return (\n    <>\n      <ListItem\n        key={node.id}\n        dense\n        button\n        role={undefined}\n        style={{ paddingLeft: `${32 * (level + 1)}px` }}\n      >\n        {editable ? (\n          <TextField\n            autoFocus={true}\n            value={nodeName}\n            onChange={(event) => setNodeName(event.target.value)}\n            onBlur={() => {\n              setEditable(false)\n              onSaveNode(node.id, nodeName)\n            }}\n          />\n        ) : (\n          <>\n            {pickingIcon ? (\n              <IconSelect\n                onChange={(e, child) => {\n                  onSelectIcon(node.id, e.target.value)\n                  setIconId(e.target.value)\n                  setPickingIcon(false)\n                }}\n                initialValue={iconId}\n              ></IconSelect>\n            ) : (\n              <ListItemText onClick={() => setEditable(true)} primary={nodeName}></ListItemText>\n            )}\n            <ListItemSecondaryAction>\n              <IconButton onClick={() => setPickingIcon(true)} edge=\"end\">\n                <Icon color=\"primary\">{iconId}</Icon>\n              </IconButton>\n            </ListItemSecondaryAction>\n          </>\n        )}\n      </ListItem>\n    </>\n  )\n}\n","import { GetCategories_categories } from 'src/queries/__generated__/GetCategories.hooks'\n\nexport interface Node extends GetCategories_categories {\n  children: Array<Node>\n}\n\n/*\n * Recursive: add a node to a tree. If node has no parent, add to root.\n * Otherwise, add to its parent\n */\nconst addNode = (node: Node, tree, visited: Array<Node>, remaining: Array<Node>) => {\n  // Add to root\n  visited.push(node)\n  const p = visited.find((x) => x.id === node.parent_id)\n\n  if (!node.parent_id) {\n    tree[node.id] = node\n    return\n  } else if (p) {\n    // Find parent who is in visited attach\n    const parentNode = p\n    if (!parentNode.children.find((x) => x.id === node.id)) {\n      parentNode.children.push(node)\n    }\n    return\n  } else {\n    //parent is not visited either\n    const parentNode = remaining.find((v) => v.id === node.parent_id)\n    if (!parentNode) {\n      throw new Error('no parent cat')\n    }\n    if (!parentNode.children.find((x) => x.id === node.id)) {\n      parentNode.children.push(node)\n    }\n    // const parentNode = { ...parentCat, children: [node] }\n    return addNode(parentNode, tree, visited, remaining)\n  }\n}\n\nexport const getCategoryTree = (categories: Array<GetCategories_categories>) => {\n  const tree = {}\n  const visited: Array<Node> = []\n  const remaining = categories.map((c) => {\n    return { ...c, children: [] }\n  })\n\n  while (remaining.length > 0) {\n    // Take node out of remaining\n    const node = remaining.pop()\n    if (!node) throw new Error()\n\n    addNode(node, tree, visited, remaining)\n  }\n\n  return tree\n}\n\n/*\n\nconst testData = [\n  {\n    id: 1,\n    description: 'Retail',\n    name: 'RETAIL',\n    parent_id: 42,\n    mui_icon_id: 'shopping_basket',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 2,\n    description: 'Clothing Cosmetic',\n    name: 'CLOTHING_COSMETIC',\n    parent_id: 1,\n    mui_icon_id: 'shopping_basket',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 3,\n    description: 'Electronic',\n    name: 'ELECTRONIC',\n    parent_id: 1,\n    mui_icon_id: 'settings_input_hdmi',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 4,\n    description: 'Sport',\n    name: 'SPORT',\n    parent_id: 1,\n    mui_icon_id: 'rowing',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 5,\n    description: 'Gift',\n    name: 'GIFT',\n    parent_id: 1,\n    mui_icon_id: 'cake',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 6,\n    description: 'Home',\n    name: 'HOME',\n    parent_id: 1,\n    mui_icon_id: 'home',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 8,\n    description: 'Restaurant',\n    name: 'RESTAURANT',\n    parent_id: 42,\n    mui_icon_id: 'restaurant',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 9,\n    description: 'Grocery',\n    name: 'GROCERY',\n    parent_id: 42,\n    mui_icon_id: 'local_grocery_store',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 10,\n    description: 'Liquor',\n    name: 'LIQUOR',\n    parent_id: 42,\n    mui_icon_id: 'local_bar',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 11,\n    description: 'Lunch',\n    name: 'LUNCH',\n    parent_id: 8,\n    mui_icon_id: 'restaurant',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 12,\n    description: 'Dinner',\n    name: 'DINNER',\n    parent_id: 8,\n    mui_icon_id: 'restaurant',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 13,\n    description: 'Breakfast',\n    name: 'BREAKFAST',\n    parent_id: 8,\n    mui_icon_id: 'free_breakfast',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 14,\n    description: 'Tranportaion',\n    name: 'TRANPORTAION',\n    parent_id: 42,\n    mui_icon_id: 'local_taxi',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 15,\n    description: 'Gas',\n    name: 'GAS',\n    parent_id: 14,\n    mui_icon_id: 'local_gas_station',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 16,\n    description: 'Parking',\n    name: 'PARKING',\n    parent_id: 14,\n    mui_icon_id: 'local_parking',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 17,\n    description: 'Public Transit',\n    name: 'PUBLIC_TRANSIT',\n    parent_id: 14,\n    mui_icon_id: 'subway',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 18,\n    description: 'Health',\n    name: 'HEALTH',\n    parent_id: 42,\n    mui_icon_id: 'local_hospital',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 19,\n    description: 'Medical',\n    name: 'MEDICAL',\n    parent_id: 18,\n    mui_icon_id: 'local_hospital',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 21,\n    description: 'Shelter',\n    name: 'SHELTER',\n    parent_id: 42,\n    mui_icon_id: 'home',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 22,\n    description: 'Mortgage',\n    name: 'MORTGAGE',\n    parent_id: 21,\n    mui_icon_id: 'home',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 24,\n    description: 'Down Payment',\n    name: 'DOWN_PAYMENT',\n    parent_id: 21,\n    mui_icon_id: 'home',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 26,\n    description: 'Automobile',\n    name: 'AUTOMOBILE',\n    parent_id: 42,\n    mui_icon_id: 'motorcycle',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 27,\n    description: 'Car Insurance',\n    name: 'CAR_INSURANCE',\n    parent_id: 26,\n    mui_icon_id: 'local_car_wash',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 30,\n    description: 'Maintanence',\n    name: 'MAINTANENCE',\n    parent_id: 26,\n    mui_icon_id: 'local_car_wash',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 31,\n    description: 'Utility',\n    name: 'UTILITY',\n    parent_id: 42,\n    mui_icon_id: 'settings_input_component',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 32,\n    description: 'Hydro',\n    name: 'HYDRO',\n    parent_id: 31,\n    mui_icon_id: 'power',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 33,\n    description: 'Mobile',\n    name: 'MOBILE',\n    parent_id: 31,\n    mui_icon_id: 'phone_iphone',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 34,\n    description: 'Internet',\n    name: 'INTERNET',\n    parent_id: 31,\n    mui_icon_id: 'perm_scan_wifi',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 35,\n    description: 'Entertainment',\n    name: 'ENTERTAINMENT',\n    parent_id: 42,\n    mui_icon_id: 'theaters',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 36,\n    description: 'Movie',\n    name: 'MOVIE',\n    parent_id: 35,\n    mui_icon_id: 'movie',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 37,\n    description: 'Miscellaneous',\n    name: 'MISCELLANEOUS',\n    parent_id: 42,\n    mui_icon_id: '',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 38,\n    description: 'Education',\n    name: 'EDUCATION',\n    parent_id: 42,\n    mui_icon_id: 'school',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 39,\n    description: 'Covernment Fees',\n    name: 'FEES_CHARGES',\n    parent_id: 42,\n    mui_icon_id: 'gavel',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 40,\n    description: 'Income',\n    name: 'INCOME',\n    parent_id: null,\n    mui_icon_id: 'attach_money',\n    is_selectable: true,\n    is_active: true,\n  },\n  {\n    id: 41,\n    description: 'Transfer',\n    name: 'TRANSFER',\n    parent_id: 18,\n    mui_icon_id: 'compare_arrows',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 42,\n    description: 'Expense',\n    name: 'EXPENSE',\n    parent_id: null,\n    mui_icon_id: '',\n    is_selectable: true,\n    is_active: true,\n  },\n  {\n    id: 46,\n    description: 'Vacation',\n    name: 'VACATION',\n    parent_id: 35,\n    mui_icon_id: 'beach_access',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 48,\n    description: 'Activity',\n    name: 'ACTIVITY',\n    parent_id: 35,\n    mui_icon_id: 'local_activity',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 49,\n    description: 'Ignore',\n    name: 'IGNORE',\n    parent_id: null,\n    mui_icon_id: 'not_interested',\n    is_selectable: true,\n    is_active: true,\n  },\n  {\n    id: 50,\n    description: 'Massage & Spa',\n    name: 'MASSAGE_SPA',\n    parent_id: 18,\n    mui_icon_id: 'spa',\n    is_selectable: false,\n    is_active: true,\n  },\n  {\n    id: 51,\n    description: 'Donation',\n    name: 'DONATION',\n    parent_id: 42,\n    mui_icon_id: 'pets',\n    is_selectable: false,\n    is_active: true,\n  },\n]\n*/\n","import * as React from 'react'\nimport { Tree } from './Tree'\nimport { getCategoryTree } from './selectors'\nimport { useApolloQuery } from '@src/queries/__generated__/GetCategories.hooks'\n\nexport const CategoryPage: React.FC<{}> = (props) => {\n  const { data } = useApolloQuery()\n\n  if (!data) {\n    return <div>loading...</div>\n  }\n  const tree = getCategoryTree(data.categories)\n  const root = {\n    id: 0,\n    name: 'root',\n    mui_icon_id: null,\n    parent_id: null,\n    is_selectable: false,\n    is_active: true,\n    __typename: 'Category',\n    description: 'root',\n    children: Object.keys(tree).map((k) => tree[k]),\n  }\n\n  return (\n    <Tree\n      onSaveNode={(id: number, name: string) => console.log(id, name)}\n      onSelectIcon={(id: number, iconId: string) => console.log(id, iconId)}\n      node={root as any}\n    />\n  )\n}\n","import * as React from 'react'\nimport {\n  TableBody,\n  TableHead,\n  Icon,\n  IconButton,\n  Tooltip,\n  TableRow,\n  TableContainer,\n  Table as T,\n  TableCell,\n} from '@material-ui/core'\nimport { useApolloQuery } from '@src/queries/__generated__/GetRecords.hooks.ts'\nimport { pushHistory } from '@src/history'\nimport { UrlPathEnum } from '@src/types'\n\ninterface ITableProps {\n  name: string\n  fields: Array<string>\n}\n\nconst Cell: React.FunctionComponent<{ value: string }> = ({ value }) => {\n  const content = <TableCell>{value ? value.substring(0, 100) : ''}</TableCell>\n  if (value.length > 100) {\n    return <Tooltip title={value}>{content}</Tooltip>\n  }\n  return content\n}\n\nexport const Table: React.FunctionComponent<ITableProps> = ({ fields, name }) => {\n  const { loading, data } = useApolloQuery({\n    variables: {\n      filters: {\n        recordType: name,\n        offset: 0,\n        limit: 100,\n      },\n    },\n  })\n  if (loading || !data) return <div>loading...</div>\n\n  return (\n    <div>\n      <IconButton onClick={(e) => pushHistory(UrlPathEnum.TablesPage)}>\n        <Icon fontSize=\"large\" color=\"primary\">\n          arrow_back\n        </Icon>\n      </IconButton>\n      <TableContainer>\n        <T>\n          <TableHead>\n            <TableRow>\n              {fields.map((c) => (\n                <TableCell key={c}>{c}</TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {data.records.map((r, index) => (\n              <TableRow key={index}>\n                {r.nameValuePairs.map((pair, i) => (\n                  <Cell key={pair.name} value={pair.value}>\n                    {' '}\n                  </Cell>\n                ))}\n              </TableRow>\n            ))}\n          </TableBody>\n        </T>\n      </TableContainer>\n    </div>\n  )\n}\n","import * as React from 'react'\nimport { List, ListItem, ListItemText } from '@material-ui/core'\nimport { Table } from './Table'\nimport { getPathName, pushHistory } from '@src/history'\nimport { UrlPathEnum } from '@src/types'\nimport { useApolloQuery } from '@src/queries/__generated__/GetTableNames.hooks'\n\nexport const TablesPage = () => {\n  const { loading, data } = useApolloQuery()\n  if (loading || !data) return <div>loading ...</div>\n\n  const paths = getPathName().split('/')\n  if (paths[2]) {\n    const t = data.tables.find((t) => t.name === paths[2])\n    if (!t) {\n      throw new Error(paths[2])\n    }\n    return <Table name={t.name} fields={t.fields.map((c) => c.name)} />\n  }\n\n  return (\n    <List>\n      {data.tables.map((t) => {\n        return (\n          <ListItem\n            key={t.name}\n            button\n            onClick={() => pushHistory((UrlPathEnum.TablesPage + `/${t.name}`) as any)}\n          >\n            <ListItemText primary={t.name} />\n          </ListItem>\n        )\n      })}\n    </List>\n  )\n}\n","import { createBrowserHistory } from 'history'\nimport * as _ from 'lodash'\nimport { UrlPathEnum } from '@src/types'\nconst pathMap: { [v: string]: UrlPathEnum } = {\n  '': UrlPathEnum.Root,\n  LoginPage: UrlPathEnum.LoginPage,\n  TablesPage: UrlPathEnum.TablesPage,\n  TransactionList: UrlPathEnum.TransactionList,\n  CategoryPage: UrlPathEnum.CategoryPage,\n  PnlChart: UrlPathEnum.PnlChart,\n}\n\nexport const history = createBrowserHistory()\nexport const pushHistory = (\n  pathname: UrlPathEnum,\n  urlState?: {} | null,\n  state: {} | null = null,\n) => {\n  const searchString =\n    urlState && urlState && Object.keys(urlState).length\n      ? '?urlState=' + JSON.stringify(_.pickBy(urlState, _.identity))\n      : ''\n\n  const pathValue = Object.keys(pathMap).find((k) => pathMap[k] === pathname)\n  if (pathValue === undefined) {\n    throw new Error(`cannot find ${pathname}`)\n  }\n  console.log('joining', pathValue)\n\n  return history.push({\n    pathname: ['/' + prefix, pathValue].join('/'),\n    search: searchString,\n    state,\n  })\n}\n\nexport const getPathName = (): UrlPathEnum => {\n  const splitPaths = history.location.pathname.split('/').filter((p) => !!p)\n\n  const stripped = splitPaths.filter((p) => p !== prefix)\n\n  if (stripped.length === 0) {\n    return UrlPathEnum.Root\n  } else if (stripped.length !== 1) {\n    throw new Error('Expected exactly 1 path')\n  }\n\n  if (!pathMap[stripped[0]]) {\n    throw new Error(`cannot find ${stripped}`)\n  }\n\n  return pathMap[stripped[0]]\n}\n\nconst isLocal = !!window.location.port\nconst prefix = window.location.pathname.split('/')[1]\n\nexport const BASE_URL = `${window.location.protocol}//${window.location.hostname}:${\n  isLocal ? '8888' : ''\n}/${prefix}`\n","import { FormControlLabel, List, ListItem, ListItemText, Checkbox } from '@material-ui/core'\nimport { ThemeProvider } from '@material-ui/core/styles'\n\nimport { Route, Switch } from 'react-router'\nimport { isDarkMode, theme } from '@src/theme'\nimport * as React from 'react'\nimport { hot } from 'react-hot-loader'\nimport { ApolloProvider } from '@apollo/react-hooks'\n\nimport { connect } from 'react-redux'\nimport { UrlStateContext } from './contexts'\nimport { CategoryPage } from '@src/CategoryPage'\nimport { UrlPathEnum } from '@src/types'\nimport { getPathName, pushHistory } from '@src/history'\nimport { LoginPage } from '@src/LoginPage'\nimport { TablesPage } from '@src/TablesPage'\nimport { PnlChart } from '@src/Report/PnlChart'\nimport { parseUrlState } from '@src/selectors'\nimport { TransactionList } from '@src/TransactionList'\nimport { client } from '@src/gqlClient'\n\ninterface StateProps {\n  isAuthenticated: boolean\n  urlState: any\n}\n\ntype Prop = StateProps\n\nconst RootComponent: React.FC<Prop> = (props) => {\n  return (\n    <ThemeProvider theme={theme}>\n      <div style={{ maxWidth: '100%', flex: 8 }}>\n        <UrlStateContext.Provider value={props.urlState}>\n          <Body isAuthenticated={props.isAuthenticated} />\n        </UrlStateContext.Provider>\n      </div>\n    </ThemeProvider>\n  )\n}\n\nexport const Root = connect<StateProps, null>((state, ownProps) => {\n  return {\n    isAuthenticated: !!sessionStorage.getItem('authToken'),\n    urlState: parseUrlState(),\n    state,\n  }\n}, null)(RootComponent)\n\nconst PageList: React.FC = () => {\n  const UrlPathsMap = {\n    TransactionList,\n    CategoryPage,\n    PnlChart,\n    TablesPage,\n  }\n  return (\n    <div>\n      <FormControlLabel\n        control={\n          <Checkbox\n            checked={isDarkMode}\n            onChange={(e) => {\n              sessionStorage.setItem('colorTheme', e.target.checked ? 'dark' : 'light')\n              location.reload()\n            }}\n            name=\"sharedOnly\"\n          />\n        }\n        label=\"Dark Mode\"\n      />\n      <List>\n        {Object.keys(UrlPathsMap).map((c, index) => {\n          return (\n            <ListItem key={index} button onClick={() => pushHistory(UrlPathEnum[c])}>\n              <ListItemText primary={c} />\n            </ListItem>\n          )\n        })}\n      </List>\n    </div>\n  )\n}\n\nclass Body extends React.Component<{ isAuthenticated: boolean }> {\n  render() {\n    const pageMap = {\n      [UrlPathEnum.TablesPage]: <TablesPage />,\n      [UrlPathEnum.LoginPage]: <LoginPage />,\n      [UrlPathEnum.Root]: <PageList />,\n      [UrlPathEnum.TransactionList]: <TransactionList />,\n      [UrlPathEnum.CategoryPage]: <CategoryPage />,\n      [UrlPathEnum.PnlChart]: <PnlChart />,\n    }\n    const pathName = getPathName()\n    // If not on LoginPage and not authenticated, redirect to login page\n    if (!this.props.isAuthenticated && pathName !== UrlPathEnum.LoginPage) {\n      console.warn('not authenticated!!!')\n      pushHistory(UrlPathEnum.LoginPage)\n      return <div />\n    } else {\n      return pageMap[pathName]\n    }\n\n    throw new Error(`Invalid paths: ${getPathName()}`)\n  }\n}\nexport const App = hot(module)(() => (\n  <ApolloProvider client={client}>\n    <Switch>\n      <Route path=\"/\" component={Root} />\n    </Switch>\n  </ApolloProvider>\n))\n","/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { QueryHookOptions, useQuery } from '@apollo/react-hooks'\nimport { GetCategories } from '@src/queries/__generated__/GetCategories'\nimport GetCategories__QUERY from '@src/queries/GetCategories.graphql'\n\nexport * from '@src/queries/__generated__/GetCategories'\n\nexport const QUERY = GetCategories__QUERY\nexport type GetCategoriesVariables = {}\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(options?: QueryHookOptions<GetCategories, GetCategoriesVariables>) {\n  return useQuery<GetCategories, GetCategoriesVariables>(QUERY, options)\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"GetCategories\"},\"variableDefinitions\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"categories\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"description\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"parent_id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"mui_icon_id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"is_selectable\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"is_active\"},\"arguments\":[],\"directives\":[]}]}}]}}],\"loc\":{\"start\":0,\"end\":137}};\n    doc.loc.source = {\"body\":\"query GetCategories {\\n  categories {\\n    id\\n    description\\n    name\\n    parent_id\\n    mui_icon_id\\n    is_selectable\\n    is_active\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"GetCategories\"] = oneQuery(doc, \"GetCategories\");\n        \n","import { Button } from '@material-ui/core'\nimport TextField from '@material-ui/core/TextField'\nimport * as React from 'react'\n\nimport { BASE_URL, pushHistory } from '@src/history'\nimport { UrlPathEnum } from '@src/types'\n\nexport const LoginPage = (props) => {\n  const [username, setUsername] = React.useState('')\n  const [password, setPassword] = React.useState('')\n  const [errorMessage, setErrorMessage] = React.useState(null)\n  const submitLogin = () => {\n    fetch(`${BASE_URL}/login`, {\n      method: 'POST',\n      body: JSON.stringify({ username, password }),\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Requested-With': 'XMLHttpRequest',\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.code === 200) {\n          sessionStorage.setItem('authToken', data.token)\n          // Redirect to root\n          pushHistory(UrlPathEnum.Root)\n        } else {\n          console.error(data)\n          setErrorMessage(data.message)\n        }\n      })\n  }\n  return (\n    <div\n      style={{\n        height: `${window.innerHeight}px`,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n      }}\n    >\n      <TextField label=\"Username\" onChange={(e) => setUsername(e.target.value)} />\n      <br />\n      <TextField\n        error={!!errorMessage}\n        helperText={errorMessage || ''}\n        onChange={(e) => setPassword(e.target.value)}\n        type=\"password\"\n        label=\"Password\"\n        onKeyPress={(e) => {\n          if (e.charCode == 13) {\n            submitLogin()\n          }\n        }}\n      />\n      <br />\n      <Button variant=\"contained\" color=\"primary\" onClick={() => submitLogin()}>\n        Login\n      </Button>\n    </div>\n  )\n}\n","/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { QueryHookOptions, useQuery } from '@apollo/react-hooks'\nimport { GetRecords, GetRecordsVariables } from '@src/queries/__generated__/GetRecords'\nimport GetRecords__QUERY from '@src/queries/GetRecords.graphql'\n\nexport * from '@src/queries/__generated__/GetRecords'\n\nexport const QUERY = GetRecords__QUERY\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(options: QueryHookOptions<GetRecords, GetRecordsVariables>) {\n  return useQuery<GetRecords, GetRecordsVariables>(QUERY, options)\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"GetRecords\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"filters\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"RecordsFilter\"}}},\"directives\":[]}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"records\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"filters\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"filters\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"nameValuePairs\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"value\"},\"arguments\":[],\"directives\":[]}]}}]}}]}}],\"loc\":{\"start\":0,\"end\":132}};\n    doc.loc.source = {\"body\":\"query GetRecords($filters: RecordsFilter!) {\\n  records(filters: $filters) {\\n    nameValuePairs {\\n      name\\n      value\\n    }\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"GetRecords\"] = oneQuery(doc, \"GetRecords\");\n        \n","/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { QueryHookOptions, useQuery } from '@apollo/react-hooks'\nimport { GetTableNames } from '@src/queries/__generated__/GetTableNames'\nimport GetTableNames__QUERY from '@src/queries/GetTableNames.graphql'\n\nexport * from '@src/queries/__generated__/GetTableNames'\n\nexport const QUERY = GetTableNames__QUERY\nexport type GetTableNamesVariables = {}\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(options?: QueryHookOptions<GetTableNames, GetTableNamesVariables>) {\n  return useQuery<GetTableNames, GetTableNamesVariables>(QUERY, options)\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"GetTableNames\"},\"variableDefinitions\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"tables\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"fields\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"type\"},\"arguments\":[],\"directives\":[]}]}}]}}]}}],\"loc\":{\"start\":0,\"end\":89}};\n    doc.loc.source = {\"body\":\"query GetTableNames {\\n  tables {\\n    name\\n    fields {\\n      name\\n      type\\n    }\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"GetTableNames\"] = oneQuery(doc, \"GetTableNames\");\n        \n","/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { QueryHookOptions, useQuery } from '@apollo/react-hooks'\nimport {\n  GetProfitAndLossChart,\n  GetProfitAndLossChartVariables,\n} from '@src/queries/__generated__/GetProfitAndLossChart'\nimport GetProfitAndLossChart__QUERY from '@src/queries/GetProfitAndLossChart.graphql'\n\nexport * from '@src/queries/__generated__/GetProfitAndLossChart'\n\nexport const QUERY = GetProfitAndLossChart__QUERY\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(\n  options: QueryHookOptions<GetProfitAndLossChart, GetProfitAndLossChartVariables>,\n) {\n  return useQuery<GetProfitAndLossChart, GetProfitAndLossChartVariables>(QUERY, options)\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"GetProfitAndLossChart\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"startDate\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}},\"directives\":[]},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"endDate\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}},\"directives\":[]}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"profitAndLossChart\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"startDate\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"startDate\"}}},{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"endDate\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"endDate\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"series\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"data\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"y\"},\"arguments\":[],\"directives\":[]}]}}]}}]}}]}}],\"loc\":{\"start\":0,\"end\":215}};\n    doc.loc.source = {\"body\":\"query GetProfitAndLossChart($startDate: String!, $endDate: String!) {\\n  profitAndLossChart(startDate: $startDate, endDate: $endDate) {\\n    series {\\n      name\\n      data {\\n        name\\n        y\\n      }\\n    }\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"GetProfitAndLossChart\"] = oneQuery(doc, \"GetProfitAndLossChart\");\n        \n","import querystring from 'querystring'\nimport { history } from '@src/history'\n\nexport function parseUrlState() {\n  const params = parseSearch()\n  if (params && params.urlState) {\n    return JSON.parse(params.urlState as string)\n  }\n  return {}\n}\nexport function parseSearch() {\n  return querystring.parse(history.location.search.split('?')[1])\n}\n","/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { MutationHookOptions, useMutation } from '@apollo/react-hooks'\nimport {\n  ImportWaveTransactions,\n  ImportWaveTransactionsVariables,\n} from '@src/queries/__generated__/ImportWaveTransactions'\nimport ImportWaveTransactions__QUERY from '@src/queries/ImportWaveTransactions.graphql'\n\nexport * from '@src/queries/__generated__/ImportWaveTransactions'\n\nexport const QUERY = ImportWaveTransactions__QUERY\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(\n  options: MutationHookOptions<ImportWaveTransactions, ImportWaveTransactionsVariables>,\n) {\n  return useMutation<ImportWaveTransactions, ImportWaveTransactionsVariables>(QUERY, options)\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"ImportWaveTransactions\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"startDate\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}},\"directives\":[]},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"endDate\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}},\"directives\":[]}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"importFromWave\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"startDate\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"startDate\"}}},{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"endDate\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"endDate\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"isOk\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"transactions\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"FragmentSpread\",\"name\":{\"kind\":\"Name\",\"value\":\"FragmentTransaction\"},\"directives\":[]}]}}]}}]}}],\"loc\":{\"start\":0,\"end\":244}};\n    doc.loc.source = {\"body\":\"#import './FragmentTransaction.graphql'\\nmutation ImportWaveTransactions($startDate: String!, $endDate: String!) {\\n  importFromWave(startDate: $startDate, endDate: $endDate) {\\n    isOk\\n    transactions {\\n      ...FragmentTransaction\\n    }\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  doc.definitions = doc.definitions.concat(unique(require('./FragmentTransaction.graphql').definitions));\n\n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"ImportWaveTransactions\"] = oneQuery(doc, \"ImportWaveTransactions\");\n        \n","/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { QueryHookOptions, useQuery } from '@apollo/react-hooks'\nimport { GetLatestImportDate } from '@src/queries/__generated__/GetLatestImportDate'\nimport GetLatestImportDate__QUERY from '@src/queries/GetLatestImportDate.graphql'\n\nexport * from '@src/queries/__generated__/GetLatestImportDate'\n\nexport const QUERY = GetLatestImportDate__QUERY\nexport type GetLatestImportDateVariables = {}\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(\n  options?: QueryHookOptions<GetLatestImportDate, GetLatestImportDateVariables>,\n) {\n  return useQuery<GetLatestImportDate, GetLatestImportDateVariables>(QUERY, options)\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"GetLatestImportDate\"},\"variableDefinitions\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"latestImportDate\"},\"arguments\":[],\"directives\":[]}]}}],\"loc\":{\"start\":0,\"end\":49}};\n    doc.loc.source = {\"body\":\"query GetLatestImportDate {\\n  latestImportDate\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"GetLatestImportDate\"] = oneQuery(doc, \"GetLatestImportDate\");\n        \n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"GetTransactions\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"filters\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"TransactionFilters\"}}},\"directives\":[]}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"balance\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"amount\"},\"arguments\":[],\"directives\":[]}]}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"transactions\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"filters\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"filters\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"FragmentSpread\",\"name\":{\"kind\":\"Name\",\"value\":\"FragmentTransaction\"},\"directives\":[]}]}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"categories\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"description\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"parent_id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"mui_icon_id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"is_selectable\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"is_active\"},\"arguments\":[],\"directives\":[]}]}}]}}],\"loc\":{\"start\":0,\"end\":311}};\n    doc.loc.source = {\"body\":\"#import './FragmentTransaction.graphql'\\nquery GetTransactions($filters: TransactionFilters!) {\\n  balance {\\n    id\\n    amount\\n  }\\n  transactions(filters: $filters) {\\n    ...FragmentTransaction\\n  }\\n  categories {\\n    id\\n    description\\n    name\\n    parent_id\\n    mui_icon_id\\n    is_selectable\\n    is_active\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  doc.definitions = doc.definitions.concat(unique(require('./FragmentTransaction.graphql').definitions));\n\n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"GetTransactions\"] = oneQuery(doc, \"GetTransactions\");\n        \n","/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { MutationHookOptions, useMutation } from '@apollo/react-hooks'\nimport {\n  CreateTransaction,\n  CreateTransactionVariables,\n} from '@src/queries/__generated__/CreateTransaction'\nimport CreateTransaction__QUERY from '@src/queries/CreateTransaction.graphql'\n\nexport * from '@src/queries/__generated__/CreateTransaction'\n\nexport const QUERY = CreateTransaction__QUERY\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(\n  options: MutationHookOptions<CreateTransaction, CreateTransactionVariables>,\n) {\n  return useMutation<CreateTransaction, CreateTransactionVariables>(QUERY, options)\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"CreateTransaction\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"input\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"CreateTransactionInput\"}}},\"directives\":[]}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"createTransaction\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"input\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"input\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"isOk\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"transaction\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"FragmentSpread\",\"name\":{\"kind\":\"Name\",\"value\":\"FragmentTransaction\"},\"directives\":[]}]}}]}}]}}],\"loc\":{\"start\":0,\"end\":207}};\n    doc.loc.source = {\"body\":\"#import './FragmentTransaction.graphql'\\nmutation CreateTransaction($input: CreateTransactionInput!) {\\n  createTransaction(input: $input) {\\n    isOk\\n    transaction {\\n      ...FragmentTransaction\\n    }\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  doc.definitions = doc.definitions.concat(unique(require('./FragmentTransaction.graphql').definitions));\n\n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"CreateTransaction\"] = oneQuery(doc, \"CreateTransaction\");\n        \n","/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { MutationHookOptions, useMutation } from '@apollo/react-hooks'\nimport {\n  AcceptPrediction,\n  AcceptPredictionVariables,\n} from '@src/queries/__generated__/AcceptPrediction'\nimport AcceptPrediction__QUERY from '@src/queries/AcceptPrediction.graphql'\n\nexport * from '@src/queries/__generated__/AcceptPrediction'\n\nexport const QUERY = AcceptPrediction__QUERY\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(\n  options: MutationHookOptions<AcceptPrediction, AcceptPredictionVariables>,\n) {\n  return useMutation<AcceptPrediction, AcceptPredictionVariables>(QUERY, options)\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"AcceptPrediction\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}},\"directives\":[]}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"acceptPrediction\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"isOk\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"balance\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"amount\"},\"arguments\":[],\"directives\":[]}]}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"transaction\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"FragmentSpread\",\"name\":{\"kind\":\"Name\",\"value\":\"FragmentTransaction\"},\"directives\":[]}]}}]}}]}}],\"loc\":{\"start\":0,\"end\":219}};\n    doc.loc.source = {\"body\":\"#import './FragmentTransaction.graphql'\\nmutation AcceptPrediction($id: Int!) {\\n  acceptPrediction(id: $id) {\\n    isOk\\n    balance {\\n      id\\n      amount\\n    }\\n    transaction {\\n      ...FragmentTransaction\\n    }\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  doc.definitions = doc.definitions.concat(unique(require('./FragmentTransaction.graphql').definitions));\n\n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"AcceptPrediction\"] = oneQuery(doc, \"AcceptPrediction\");\n        \n","/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { MutationHookOptions, useMutation } from '@apollo/react-hooks'\nimport {\n  CategorizeTransaction,\n  CategorizeTransactionVariables,\n} from '@src/queries/__generated__/CategorizeTransaction'\nimport CategorizeTransaction__QUERY from '@src/queries/CategorizeTransaction.graphql'\n\nexport * from '@src/queries/__generated__/CategorizeTransaction'\n\nexport const QUERY = CategorizeTransaction__QUERY\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(\n  options: MutationHookOptions<CategorizeTransaction, CategorizeTransactionVariables>,\n) {\n  return useMutation<CategorizeTransaction, CategorizeTransactionVariables>(QUERY, options)\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"CategorizeTransaction\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}},\"directives\":[]},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"categoryId\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}},\"directives\":[]}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"categorizeTransaction\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}},{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"categoryId\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"categoryId\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"isOk\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"transaction\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"FragmentSpread\",\"name\":{\"kind\":\"Name\",\"value\":\"FragmentTransaction\"},\"directives\":[]}]}}]}}]}}],\"loc\":{\"start\":0,\"end\":231}};\n    doc.loc.source = {\"body\":\"#import './FragmentTransaction.graphql'\\nmutation CategorizeTransaction($id: Int!, $categoryId: Int!) {\\n  categorizeTransaction(id: $id, categoryId: $categoryId) {\\n    isOk\\n    transaction {\\n      ...FragmentTransaction\\n    }\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  doc.definitions = doc.definitions.concat(unique(require('./FragmentTransaction.graphql').definitions));\n\n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"CategorizeTransaction\"] = oneQuery(doc, \"CategorizeTransaction\");\n        \n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"UpdateTransaction\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"input\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"UpdateTransactionInput\"}}},\"directives\":[]}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"updateTransaction\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"input\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"input\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"isOk\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"balance\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"amount\"},\"arguments\":[],\"directives\":[]}]}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"transaction\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"FragmentSpread\",\"name\":{\"kind\":\"Name\",\"value\":\"FragmentTransaction\"},\"directives\":[]}]}}]}}]}}],\"loc\":{\"start\":0,\"end\":249}};\n    doc.loc.source = {\"body\":\"#import './FragmentTransaction.graphql'\\nmutation UpdateTransaction($input: UpdateTransactionInput!) {\\n  updateTransaction(input: $input) {\\n    isOk\\n    balance {\\n      id\\n      amount\\n    }\\n    transaction {\\n      ...FragmentTransaction\\n    }\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  doc.definitions = doc.definitions.concat(unique(require('./FragmentTransaction.graphql').definitions));\n\n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"UpdateTransaction\"] = oneQuery(doc, \"UpdateTransaction\");\n        \n","/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { MutationHookOptions, useMutation } from '@apollo/react-hooks'\nimport {\n  ArchiveTransaction,\n  ArchiveTransactionVariables,\n} from '@src/queries/__generated__/ArchiveTransaction'\nimport ArchiveTransaction__QUERY from '@src/queries/ArchiveTransaction.graphql'\n\nexport * from '@src/queries/__generated__/ArchiveTransaction'\n\nexport const QUERY = ArchiveTransaction__QUERY\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(\n  options: MutationHookOptions<ArchiveTransaction, ArchiveTransactionVariables>,\n) {\n  return useMutation<ArchiveTransaction, ArchiveTransactionVariables>(QUERY, options)\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"ArchiveTransaction\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}},\"directives\":[]}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"archiveTransaction\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"isOk\"},\"arguments\":[],\"directives\":[]}]}}]}}],\"loc\":{\"start\":0,\"end\":88}};\n    doc.loc.source = {\"body\":\"mutation ArchiveTransaction($id: Int!) {\\n  archiveTransaction(id: $id) {\\n    isOk\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"ArchiveTransaction\"] = oneQuery(doc, \"ArchiveTransaction\");\n        \n","/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { MutationHookOptions, useMutation } from '@apollo/react-hooks'\nimport { SignCheckpoint, SignCheckpointVariables } from '@src/queries/__generated__/SignCheckpoint'\nimport SignCheckpoint__QUERY from '@src/queries/SignCheckpoint.graphql'\n\nexport * from '@src/queries/__generated__/SignCheckpoint'\n\nexport const QUERY = SignCheckpoint__QUERY\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(\n  options: MutationHookOptions<SignCheckpoint, SignCheckpointVariables>,\n) {\n  return useMutation<SignCheckpoint, SignCheckpointVariables>(QUERY, options)\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"SignCheckpoint\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}},\"directives\":[]}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"signCheckpoint\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"isOk\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpoint\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"signedTs\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"signedBy\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"groupId\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"signedBalance\"},\"arguments\":[],\"directives\":[]}]}}]}}]}}],\"loc\":{\"start\":0,\"end\":176}};\n    doc.loc.source = {\"body\":\"mutation SignCheckpoint($id: Int!) {\\n  signCheckpoint(id: $id) {\\n    isOk\\n    checkpoint {\\n      id\\n      signedTs\\n      signedBy\\n      groupId\\n      signedBalance\\n    }\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"SignCheckpoint\"] = oneQuery(doc, \"SignCheckpoint\");\n        \n","/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { QueryHookOptions, useQuery } from '@apollo/react-hooks'\nimport { GetEvents } from '@src/queries/__generated__/GetEvents'\nimport GetEvents__QUERY from '@src/queries/GetEvents.graphql'\n\nexport * from '@src/queries/__generated__/GetEvents'\n\nexport const QUERY = GetEvents__QUERY\nexport type GetEventsVariables = {}\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(options?: QueryHookOptions<GetEvents, GetEventsVariables>) {\n  return useQuery<GetEvents, GetEventsVariables>(QUERY, options)\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"GetEvents\"},\"variableDefinitions\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"eventList\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"events\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"InlineFragment\",\"typeCondition\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"ICheckPoint\"}},\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"eventType\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"createdTs\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"signedTs\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"signedBalance\"},\"arguments\":[],\"directives\":[]}]}},{\"kind\":\"InlineFragment\",\"typeCondition\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"IImportBatch\"}},\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"eventType\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"createdTs\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"origin\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"startDate\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"endDate\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"isStatement\"},\"arguments\":[],\"directives\":[]}]}}]}}]}}]}}],\"loc\":{\"start\":0,\"end\":330}};\n    doc.loc.source = {\"body\":\"query GetEvents {\\n  eventList {\\n    events {\\n      ... on ICheckPoint {\\n        id\\n        eventType\\n        createdTs\\n        signedTs\\n        signedBalance\\n      }\\n      ... on IImportBatch {\\n        id\\n        eventType\\n        createdTs\\n        origin\\n        startDate\\n        endDate\\n        isStatement\\n      }\\n    }\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"GetEvents\"] = oneQuery(doc, \"GetEvents\");\n        \n","import { InMemoryCache, IntrospectionFragmentMatcher } from 'apollo-cache-inmemory'\nimport { setContext } from 'apollo-link-context'\n\nimport { ApolloClient as AC } from 'apollo-client'\nimport { concat } from 'apollo-link'\nimport { onError } from 'apollo-link-error'\nimport { HttpLink } from 'apollo-link-http'\nimport { BASE_URL } from '@src/history'\n\nconst fragmentMatcher = new IntrospectionFragmentMatcher({\n  introspectionQueryResultData: {\n    __schema: {\n      types: [],\n    },\n  },\n})\n\nexport const errorLink = onError((response) => {\n  const { graphQLErrors, networkError } = response\n  if (graphQLErrors) {\n    graphQLErrors.forEach((gqlError) => {\n      if (gqlError.extensions && gqlError.extensions.code == '401') {\n        console.error('Not Authenticated')\n        window.location.href = '/LoginPage'\n      }\n    })\n  }\n\n  if (networkError) {\n    if (networkError['statusCode'] === 401) {\n      sessionStorage.removeItem('authToken')\n      console.error('Not Authenticated')\n      window.location.href = '/LoginPage'\n    }\n    console.error(`[Network error]: ${networkError}`)\n  }\n})\n\nconst getLink = () => {\n  return concat(authLink, errorLink).concat(\n    new HttpLink({\n      uri: `${BASE_URL}/graphql`,\n      headers: {\n        authorization: `Bearer ${sessionStorage.getItem('authToken')}`,\n      },\n    }),\n  )\n}\nconst authLink = setContext((_, { headers }) => {\n  const token = sessionStorage.getItem('authToken')\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  }\n})\n\nexport const client = new AC({\n  link: getLink(),\n  cache: new InMemoryCache({\n    fragmentMatcher,\n  }),\n})\n","import * as _ from 'lodash'\nimport { combineReducers } from 'redux'\n\nexport const initialState = {}\n\nfunction createReducer(initialState, handlers) {\n  return function reducer(state = initialState, action) {\n    if (handlers.hasOwnProperty(action.type)) {\n      return handlers[action.type](state, action)\n    } else {\n      return state\n    }\n  }\n}\n\nconst snacks = createReducer([], {\n  EAT_SNACK: (snacks) => [...snacks.slice(1)],\n  ADD_SNACK: (snacks, action) => [...snacks, action.snack],\n})\n\nconst reducers = combineReducers({\n  snacks,\n})\n\nexport default reducers\n","import * as React from 'react'\nimport * as ReactDOM from 'react-dom'\n\nimport { Provider } from 'react-redux'\nimport { Router } from 'react-router'\nimport { history } from './history'\n\nimport { configureStore } from './configureStore'\n\nimport { App } from '@src/Root'\n\nconst store = configureStore()\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={history}>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root'),\n)\n","import { composeWithDevTools } from 'redux-devtools-extension'\n\nimport { applyMiddleware, createStore } from 'redux'\nimport logger from 'redux-logger'\nimport thunk from 'redux-thunk'\nimport reducers from './reducers'\n\nexport const configureStore = (initialState?) => {\n  let middleware = applyMiddleware(thunk, logger())\n  if (process.env.NODE_ENV !== 'production') {\n    middleware = composeWithDevTools(middleware)\n  }\n  const store = createStore(reducers, initialState, middleware)\n\n  if (module.hot) {\n    module.hot.accept('./reducers', () => {\n      const nextReducer = require('./reducers')\n      store.replaceReducer(nextReducer)\n    })\n  }\n  return store\n}\n","import * as React from 'react'\n\ninterface IUrlState {\n  eventId?: string\n  sharedOnly?: boolean\n  searchText?: string\n  categoryId?: number\n  uncategorizedOnly?: boolean\n}\nexport const UrlStateContext = React.createContext<IUrlState>({})\n","/*\n * Generated code! DO NOT EDIT !!!!!\n */\nimport { QueryHookOptions, useQuery } from '@apollo/react-hooks'\nimport {\n  GetTransactions,\n  GetTransactionsVariables,\n} from '@src/queries/__generated__/GetTransactions'\nimport GetTransactions__QUERY from '@src/queries/GetTransactions.graphql'\n\nexport * from '@src/queries/__generated__/GetTransactions'\n\nexport const QUERY = GetTransactions__QUERY\n\n/*\n * Used for hooks\n */\n\nexport function useApolloQuery(\n  options: QueryHookOptions<GetTransactions, GetTransactionsVariables>,\n) {\n  return useQuery<GetTransactions, GetTransactionsVariables>(QUERY, options)\n}\n","export function stringToDate(dateString: string): Date {\n  const [year, month, day] = dateString.split('-').map((v) => parseInt(v))\n  const ret = new Date(year, month - 1, day)\n  return ret\n}\nexport function formatDate(d: string): string {\n  const date = new Date(d)\n  return date.toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    timeZone: 'UTC',\n  })\n}\n\nexport const getIsoDateString = (d: Date) => {\n  const year = d.getFullYear()\n  const month = d.getMonth() < 9 ? '0' + (d.getMonth() + 1) : d.getMonth() + 1\n  const day = d.getDate() < 10 ? '0' + d.getDate() : d.getDate()\n  return `${year}-${month}-${day}`\n}\n\nexport function getToday(): string {\n  const today = new Date()\n  const year = today.getFullYear()\n  const month = today.getMonth() < 9 ? '0' + (today.getMonth() + 1) : today.getMonth() + 1\n  const day = today.getDate() < 10 ? '0' + today.getDate() : today.getDate()\n  return `${year}-${month}-${day}`\n}\n\nexport interface Identifiable {\n  id: string | number\n}\nexport const mergeArrays = <T extends Identifiable>(\n  existing: Array<T>,\n  incoming: Array<T>,\n  prependOrAppend: 'prepend' | 'append',\n): Array<T> => {\n  return incoming.reduce(\n    function (accumulator: Array<T>, value: T) {\n      const index = existing.findIndex((x) => x.id === value.id)\n      if (index >= 0) {\n        const ret = [\n          ...accumulator.slice(0, index),\n          value,\n          ...accumulator.slice(index + 1, accumulator.length),\n        ]\n        return ret\n      } else {\n        return prependOrAppend === 'append' ? [...accumulator, value] : [value, ...accumulator]\n      }\n    },\n    [...existing],\n  )\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"FragmentDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"FragmentTransaction\"},\"typeCondition\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"IUserTransaction\"}},\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"lenderId\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"totalAmount\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"issuedDate\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"notes\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"categoryId\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpointId\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"statementId\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"merchantName\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"balanceAdjust\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"createdById\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"lenderId\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"plaidCategory\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"editable\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"originPayload\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"__typename\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"InlineFragment\",\"typeCondition\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"IWaveTransaction\"}},\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"anchorAccountName\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"dateCreated\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"direction\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"transactionDescription\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"transactionDate\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"transactionId\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"transactionAmount\"},\"arguments\":[],\"directives\":[]}]}}]}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"accountName\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"prediction\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"categoryId\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"categoryName\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"split\"},\"arguments\":[],\"directives\":[]}]}}]}}],\"loc\":{\"start\":0,\"end\":530}};\n    doc.loc.source = {\"body\":\"fragment FragmentTransaction on IUserTransaction {\\n  id\\n  lenderId\\n  totalAmount\\n  issuedDate\\n  notes\\n  categoryId\\n  checkpointId\\n  statementId\\n  merchantName\\n  balanceAdjust\\n  createdById\\n  lenderId\\n  plaidCategory\\n  editable\\n  originPayload {\\n    __typename\\n    ... on IWaveTransaction {\\n      anchorAccountName\\n      dateCreated\\n      direction\\n      transactionDescription\\n      transactionDate\\n      transactionId\\n      transactionAmount\\n    }\\n  }\\n  accountName\\n  prediction {\\n    categoryId\\n    categoryName\\n    split\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n      module.exports = doc;\n    \n","import { createMuiTheme } from '@material-ui/core/styles'\n\nexport const isDarkMode = sessionStorage.getItem('colorTheme') === 'dark'\n\nexport const theme = createMuiTheme({\n  palette: {\n    type: isDarkMode ? 'dark' : 'light',\n  },\n})\n"],"sourceRoot":""}